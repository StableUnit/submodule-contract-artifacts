{
  "address": "0xbC0C55074E022a19c07c4c5721A298A84E8C5a96",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "manager",
          "type": "address"
        },
        {
          "internalType": "contract ICollateralJoin",
          "name": "collateralJoin",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "cdp",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "amt",
          "type": "uint256"
        }
      ],
      "name": "exitTokenCollateral",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "manager",
          "type": "address"
        },
        {
          "internalType": "contract ICollateralJoin",
          "name": "collateralJoin",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "cdp",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "amt",
          "type": "uint256"
        }
      ],
      "name": "freeTokenCollateral",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "manager",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "taxCollector",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "coinJoin",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "cdp",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "wad",
          "type": "uint256"
        }
      ],
      "name": "generateDebt",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "manager",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "internalType": "bytes32",
          "name": "collateralType",
          "type": "bytes32"
        }
      ],
      "name": "getAvailableToBorrow",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "manager",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "internalType": "bytes32",
          "name": "collateralType",
          "type": "bytes32"
        }
      ],
      "name": "getAvailableToWithdraw",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "manager",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "internalType": "bytes32",
          "name": "collateralType",
          "type": "bytes32"
        }
      ],
      "name": "getCdpId",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "manager",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "internalType": "bytes32",
          "name": "collateralType",
          "type": "bytes32"
        }
      ],
      "name": "getCdpInfo",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "manager",
          "type": "address"
        },
        {
          "internalType": "contract ICollateralJoin",
          "name": "collateralJoin",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "cdp",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "amt",
          "type": "uint256"
        }
      ],
      "name": "lockTokenCollateral",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "manager",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "taxCollector",
          "type": "address"
        },
        {
          "internalType": "contract ICollateralJoin",
          "name": "collateralJoin",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "coinJoin",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "cdp",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "collateralAmount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "deltaWad",
          "type": "uint256"
        }
      ],
      "name": "lockTokenCollateralAndGenerateDebt",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "manager",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "taxCollector",
          "type": "address"
        },
        {
          "internalType": "contract ICollateralJoin",
          "name": "collateralJoin",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "coinJoin",
          "type": "address"
        },
        {
          "internalType": "bytes32",
          "name": "collateralType",
          "type": "bytes32"
        },
        {
          "internalType": "uint256",
          "name": "amtC",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "wadD",
          "type": "uint256"
        }
      ],
      "name": "openLockTokenCollateralAndGenerateDebt",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "cdp",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "manager",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "coinJoin",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "cdp",
          "type": "uint256"
        }
      ],
      "name": "repayAllDebt",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "manager",
          "type": "address"
        },
        {
          "internalType": "contract ICollateralJoin",
          "name": "collateralJoin",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "coinJoin",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "cdp",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "amtC",
          "type": "uint256"
        }
      ],
      "name": "repayAllDebtAndFreeTokenCollateral",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "manager",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "coinJoin",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "cdp",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "wad",
          "type": "uint256"
        }
      ],
      "name": "repayDebt",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "manager",
          "type": "address"
        },
        {
          "internalType": "contract ICollateralJoin",
          "name": "collateralJoin",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "coinJoin",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "cdp",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "amtC",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "wadD",
          "type": "uint256"
        }
      ],
      "name": "repayDebtAndFreeTokenCollateral",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "numDeployments": 6,
  "solcInputHash": "bf39d1579cb15455a9583613f66e6945",
  "metadata": "{\"compiler\":{\"version\":\"0.8.17+commit.8df45f5f\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"manager\",\"type\":\"address\"},{\"internalType\":\"contract ICollateralJoin\",\"name\":\"collateralJoin\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"cdp\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"amt\",\"type\":\"uint256\"}],\"name\":\"exitTokenCollateral\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"manager\",\"type\":\"address\"},{\"internalType\":\"contract ICollateralJoin\",\"name\":\"collateralJoin\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"cdp\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"amt\",\"type\":\"uint256\"}],\"name\":\"freeTokenCollateral\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"manager\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"taxCollector\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"coinJoin\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"cdp\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"wad\",\"type\":\"uint256\"}],\"name\":\"generateDebt\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"manager\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"collateralType\",\"type\":\"bytes32\"}],\"name\":\"getAvailableToBorrow\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"manager\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"collateralType\",\"type\":\"bytes32\"}],\"name\":\"getAvailableToWithdraw\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"manager\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"collateralType\",\"type\":\"bytes32\"}],\"name\":\"getCdpId\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"manager\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"collateralType\",\"type\":\"bytes32\"}],\"name\":\"getCdpInfo\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"manager\",\"type\":\"address\"},{\"internalType\":\"contract ICollateralJoin\",\"name\":\"collateralJoin\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"cdp\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"amt\",\"type\":\"uint256\"}],\"name\":\"lockTokenCollateral\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"manager\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"taxCollector\",\"type\":\"address\"},{\"internalType\":\"contract ICollateralJoin\",\"name\":\"collateralJoin\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"coinJoin\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"cdp\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"collateralAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"deltaWad\",\"type\":\"uint256\"}],\"name\":\"lockTokenCollateralAndGenerateDebt\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"manager\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"taxCollector\",\"type\":\"address\"},{\"internalType\":\"contract ICollateralJoin\",\"name\":\"collateralJoin\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"coinJoin\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"collateralType\",\"type\":\"bytes32\"},{\"internalType\":\"uint256\",\"name\":\"amtC\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"wadD\",\"type\":\"uint256\"}],\"name\":\"openLockTokenCollateralAndGenerateDebt\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"cdp\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"manager\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"coinJoin\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"cdp\",\"type\":\"uint256\"}],\"name\":\"repayAllDebt\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"manager\",\"type\":\"address\"},{\"internalType\":\"contract ICollateralJoin\",\"name\":\"collateralJoin\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"coinJoin\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"cdp\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"amtC\",\"type\":\"uint256\"}],\"name\":\"repayAllDebtAndFreeTokenCollateral\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"manager\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"coinJoin\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"cdp\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"wad\",\"type\":\"uint256\"}],\"name\":\"repayDebt\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"manager\",\"type\":\"address\"},{\"internalType\":\"contract ICollateralJoin\",\"name\":\"collateralJoin\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"coinJoin\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"cdp\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"amtC\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"wadD\",\"type\":\"uint256\"}],\"name\":\"repayDebtAndFreeTokenCollateral\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"exitTokenCollateral(address,address,uint256,uint256)\":{\"notice\":\"function exitETH(address manager, address ethJoin, uint cdp, uint wad) public { // Moves the amount from the CDP urn to proxy's address flux(manager, cdp, address(this), wad); // Exits WETH amount to proxy address as a token GemJoinLike(ethJoin).exit(address(this), wad); // Converts WETH to ETH GemJoinLike(ethJoin).gem().withdraw(wad); // Sends ETH back to the user's wallet msg.sender.transfer(wad); }*\"},\"freeTokenCollateral(address,address,uint256,uint256)\":{\"notice\":\"Don't see any additional security because attacker could potentially call safeLockGem with the correct owner address (just get IDssCdpManager(manager).owns(cdp)) and bypass the intended security check function safeLockTokenCollateral(address manager,address collateralJoin,uint cdp,uint amt,address owner) public { require(IDssCdpManager(manager).owns(cdp) == owner, \\\"bad-owner\\\"); lockTokenCollateral(manager, collateralJoin, cdp, amt); } function freeETH(address manager, address ethJoin, uint cdp, uint wad) public { // Unlocks WETH amount from the CDP frob(manager, cdp, -toInt(wad), 0); // Moves the amount from the CDP urn to proxy's address flux(manager, cdp, address(this), wad); // Exits WETH amount to proxy address as a token GemJoinLike(ethJoin).exit(address(this), wad); // Converts WETH to ETH GemJoinLike(ethJoin).gem().withdraw(wad); // Sends ETH back to the user's wallet msg.sender.transfer(wad); }*\"},\"lockTokenCollateral(address,address,uint256,uint256)\":{\"notice\":\"// We don't have GNT and don't need ETH as collateral, so we commented this functions function makeGemBag(address gemJoin) public returns (address bag) { bag = GNTJoinLike(gemJoin).make(address(this)); } function lockETH(address manager, address ethJoin, uint cdp) public payable { // Receives ETH amount, converts it to WETH and joins it into the vat ethJoin_join(ethJoin, address(this)); // Locks WETH amount into the CDP IDssCdpManager(manager).safeEngine().modifySAFECollateralization( IDssCdpManager(manager).collateralTypes(cdp), IDssCdpManager(manager).safes(cdp), address(this), address(this), toInt(msg.value), 0 ); } function safeLockETH(address manager, address ethJoin, uint cdp, address owner) public payable { require(IDssCdpManager(manager).owns(cdp) == owner, \\\"bad-owner\\\"); lockETH(manager, ethJoin, cdp); }*\"},\"lockTokenCollateralAndGenerateDebt(address,address,address,address,uint256,uint256,uint256)\":{\"notice\":\"Same as in safeLockTokenCollateral function safeRepayAllDebt(address manager, address daiJoin, uint cdp, address owner) public { require(IDssCdpManager(manager).owns(cdp) == owner, \\\"bad-owner\\\"); repayAllDebt(manager, daiJoin, cdp); } function lockETHAndDraw( address manager, address jug, address ethJoin, address daiJoin, uint cdp, uint wadD ) public payable { address urn = ManagerLike(manager).urns(cdp); address vat = ManagerLike(manager).vat(); bytes32 ilk = ManagerLike(manager).ilks(cdp); // Receives ETH amount, converts it to WETH and joins it into the vat ethJoin_join(ethJoin, urn); // Locks WETH amount into the CDP and generates debt frob(manager, cdp, toInt(msg.value), _getDrawDart(vat, jug, urn, ilk, wadD)); // Moves the DAI amount (balance in the vat in rad) to proxy's address move(manager, cdp, address(this), toRad(wadD)); // Allows adapter to access to proxy's DAI balance in the vat if (VatLike(vat).can(address(this), address(daiJoin)) == 0) { VatLike(vat).hope(daiJoin); } // Exits DAI to the user's wallet as a token DaiJoinLike(daiJoin).exit(msg.sender, wadD); } function openLockETHAndDraw( address manager, address jug, address ethJoin, address daiJoin, bytes32 ilk, uint wadD ) public payable returns (uint cdp) { cdp = open(manager, ilk, address(this)); lockETHAndDraw(manager, jug, ethJoin, daiJoin, cdp, wadD); }*\"},\"repayAllDebt(address,address,uint256)\":{\"notice\":\"Same as in safeLockTokenCollateral function safeRepayDebt(address manager, address daiJoin, uint cdp, uint wad, address owner) public { require(IDssCdpManager(manager).owns(cdp) == owner, \\\"bad-owner\\\"); repayDebt(manager, daiJoin, cdp, wad); }*\"},\"repayDebtAndFreeTokenCollateral(address,address,address,uint256,uint256,uint256)\":{\"notice\":\"We don't use GNT and ETH function openLockGNTAndDraw( address manager,naddress jug, address gntJoin, address daiJoin, bytes32 ilk, uint wadC, uint wadD ) public returns (address bag, uint cdp) { // Creates bag (if doesn't exist) to hold GNT bag = GNTJoinLike(gntJoin).bags(address(this)); if (bag == address(0)) { bag = makeGemBag(gntJoin); } // Transfer funds to the funds which previously were sent to the proxy GemLike(GemJoinLike(gntJoin).gem()).transfer(bag, wadC); cdp = openLockGemAndDraw(manager, jug, gntJoin, daiJoin, ilk, wadC, wadD, false); } function wipeAndFreeETH(address manager, address ethJoin, address daiJoin, uint cdp, uint wadC, uint wadD) public { address urn = ManagerLike(manager).urns(cdp); // Joins DAI amount into the vat daiJoin_join(daiJoin, urn, wadD); // Paybacks debt to the CDP and unlocks WETH amount from it frob( manager, cdp, -toInt(wadC), _getWipeDart(ManagerLike(manager).vat(), VatLike(ManagerLike(manager).vat()).dai(urn), urn, ManagerLike(manager).ilks(cdp)) ); // Moves the amount from the CDP urn to proxy's address flux(manager, cdp, address(this), wadC); // Exits WETH amount to proxy address as a token GemJoinLike(ethJoin).exit(address(this), wadC); // Converts WETH to ETH GemJoinLike(ethJoin).gem().withdraw(wadC); // Sends ETH back to the user's wallet msg.sender.transfer(wadC); } function wipeAllAndFreeETH(address manager, address ethJoin, address daiJoin, uint cdp, uint wadC) public { address vat = ManagerLike(manager).vat(); address urn = ManagerLike(manager).urns(cdp); bytes32 ilk = ManagerLike(manager).ilks(cdp); (, uint art) = VatLike(vat).urns(ilk, urn); // Joins DAI amount into the vat daiJoin_join(daiJoin, urn, _getWipeAllWad(vat, urn, urn, ilk)); // Paybacks debt to the CDP and unlocks WETH amount from it frob( manager, cdp, -toInt(wadC), -int(art) ); // Moves the amount from the CDP urn to proxy's address flux(manager, cdp, address(this), wadC); // Exits WETH amount to proxy address as a token GemJoinLike(ethJoin).exit(address(this), wadC); // Converts WETH to ETH GemJoinLike(ethJoin).gem().withdraw(wadC); // Sends ETH back to the user's wallet msg.sender.transfer(wadC); }*\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/makerdao/externalContracts/DssProxyActions.sol\":\"DssProxyActions\"},\"evmVersion\":\"london\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":1},\"remappings\":[],\"viaIR\":true},\"sources\":{\"@openzeppelin/contracts/token/ERC20/IERC20.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v4.9.0) (token/ERC20/IERC20.sol)\\n\\npragma solidity ^0.8.0;\\n\\n/**\\n * @dev Interface of the ERC20 standard as defined in the EIP.\\n */\\ninterface IERC20 {\\n    /**\\n     * @dev Emitted when `value` tokens are moved from one account (`from`) to\\n     * another (`to`).\\n     *\\n     * Note that `value` may be zero.\\n     */\\n    event Transfer(address indexed from, address indexed to, uint256 value);\\n\\n    /**\\n     * @dev Emitted when the allowance of a `spender` for an `owner` is set by\\n     * a call to {approve}. `value` is the new allowance.\\n     */\\n    event Approval(address indexed owner, address indexed spender, uint256 value);\\n\\n    /**\\n     * @dev Returns the amount of tokens in existence.\\n     */\\n    function totalSupply() external view returns (uint256);\\n\\n    /**\\n     * @dev Returns the amount of tokens owned by `account`.\\n     */\\n    function balanceOf(address account) external view returns (uint256);\\n\\n    /**\\n     * @dev Moves `amount` tokens from the caller's account to `to`.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * Emits a {Transfer} event.\\n     */\\n    function transfer(address to, uint256 amount) external returns (bool);\\n\\n    /**\\n     * @dev Returns the remaining number of tokens that `spender` will be\\n     * allowed to spend on behalf of `owner` through {transferFrom}. This is\\n     * zero by default.\\n     *\\n     * This value changes when {approve} or {transferFrom} are called.\\n     */\\n    function allowance(address owner, address spender) external view returns (uint256);\\n\\n    /**\\n     * @dev Sets `amount` as the allowance of `spender` over the caller's tokens.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * IMPORTANT: Beware that changing an allowance with this method brings the risk\\n     * that someone may use both the old and the new allowance by unfortunate\\n     * transaction ordering. One possible solution to mitigate this race\\n     * condition is to first reduce the spender's allowance to 0 and set the\\n     * desired value afterwards:\\n     * https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729\\n     *\\n     * Emits an {Approval} event.\\n     */\\n    function approve(address spender, uint256 amount) external returns (bool);\\n\\n    /**\\n     * @dev Moves `amount` tokens from `from` to `to` using the\\n     * allowance mechanism. `amount` is then deducted from the caller's\\n     * allowance.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * Emits a {Transfer} event.\\n     */\\n    function transferFrom(address from, address to, uint256 amount) external returns (bool);\\n}\\n\",\"keccak256\":\"0x287b55befed2961a7eabd7d7b1b2839cbca8a5b80ef8dcbb25ed3d4c2002c305\",\"license\":\"MIT\"},\"@openzeppelin/contracts/token/ERC20/extensions/IERC20Metadata.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts v4.4.1 (token/ERC20/extensions/IERC20Metadata.sol)\\n\\npragma solidity ^0.8.0;\\n\\nimport \\\"../IERC20.sol\\\";\\n\\n/**\\n * @dev Interface for the optional metadata functions from the ERC20 standard.\\n *\\n * _Available since v4.1._\\n */\\ninterface IERC20Metadata is IERC20 {\\n    /**\\n     * @dev Returns the name of the token.\\n     */\\n    function name() external view returns (string memory);\\n\\n    /**\\n     * @dev Returns the symbol of the token.\\n     */\\n    function symbol() external view returns (string memory);\\n\\n    /**\\n     * @dev Returns the decimals places of the token.\\n     */\\n    function decimals() external view returns (uint8);\\n}\\n\",\"keccak256\":\"0x8de418a5503946cabe331f35fe242d3201a73f67f77aaeb7110acb1f30423aca\",\"license\":\"MIT\"},\"contracts/makerdao/externalContracts/DssProxyActions.sol\":{\"content\":\"// SPDX-License-Identifier: AGPL-3.0-or-later\\n\\n/// DssProxyActions.sol\\n\\n// Copyright (C) 2018-2020 Maker Ecosystem Growth Holdings, INC.\\n\\n// This program is free software: you can redistribute it and/or modify\\n// it under the terms of the GNU Affero General Public License as published by\\n// the Free Software Foundation, either version 3 of the License, or\\n// (at your option) any later version.\\n//\\n// This program is distributed in the hope that it will be useful,\\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\\n// GNU Affero General Public License for more details.\\n//\\n// You should have received a copy of the GNU Affero General Public License\\n// along with this program.  If not, see <https://www.gnu.org/licenses/>.\\n\\n// CHANGED: removed some functions. As default this contract was too large to deploy. Also\\n\\nimport \\\"@openzeppelin/contracts/token/ERC20/IERC20.sol\\\";\\nimport \\\"../interfaces/IDssCdpManager.sol\\\";\\nimport \\\"../interfaces/ITaxCollector.sol\\\";\\nimport \\\"../interfaces/ICoinJoin.sol\\\";\\nimport \\\"../interfaces/ICollateralJoin.sol\\\";\\n\\npragma solidity ^0.8.0;\\n\\n// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\\n// WARNING: These functions meant to be used as a a library for a DSProxy. Some are unsafe if you call them directly.\\n// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\\n\\nabstract contract Math {\\n    uint256 constant RAY = 10 ** 27;\\n\\n    // Internal functions\\n\\n    function mul(uint x, uint y) internal pure returns (uint z) {\\n        require(y == 0 || (z = x * y) / y == x, \\\"mul-overflow\\\");\\n    }\\n\\n    function add(uint x, uint y) internal pure returns (uint z) {\\n        require((z = x + y) >= x);\\n    }\\n\\n    function sub(uint x, uint y) internal pure returns (uint z) {\\n        require((z = x - y) <= x, \\\"sub-overflow\\\");\\n    }\\n\\n    function toInt(uint x) internal pure returns (int y) {\\n        y = int(x);\\n        require(y >= 0, \\\"int-overflow\\\");\\n    }\\n\\n    function toRad(uint wad) internal pure returns (uint rad) {\\n        rad = mul(wad, 10 ** 27);\\n    }\\n\\n    function convertTo18(ICollateralJoin collateralJoin, uint256 amt) internal returns (uint256 wad) {\\n        // For those collaterals that have less than 18 decimals precision we need to do the conversion\\n        // before passing to modifySAFECollateralization function\\n        // Adapters will automatically handle the difference of precision\\n        wad = mul(\\n            amt,\\n            10 ** (18 - collateralJoin.decimals())\\n        );\\n    }\\n}\\n\\ncontract DssProxyActions is Math {\\n    // Internal functions\\n    function _getGeneratedDeltaDebt(\\n        ISafeEngine safeEngine,\\n        address taxCollector,\\n        address safe,\\n        bytes32 collateralType,\\n        uint wad\\n    ) internal returns (int deltaDebt) {\\n        // Updates stability fee rate\\n        uint rate = ITaxCollector(taxCollector).taxSingle(collateralType);\\n\\n        // Gets StablePro balance of the safe in the safeEngine\\n        uint stableProBalance = safeEngine.coinBalance(safe);\\n\\n        // If there was already enough StablePro in the safeEngine balance, just exits it without adding more debt\\n        if (stableProBalance < mul(wad, RAY)) {\\n            // Calculates the needed deltaDebt so together with the existing StablePro in the safeEngine\\n            // is enough to exit wad amount of StablePro tokens\\n            deltaDebt = toInt(sub(mul(wad, RAY), stableProBalance) / rate);\\n            // This is neeeded due lack of precision. It might need to sum an extra deltaDebt wei\\n            // (for the given StablePro wad amount)\\n            deltaDebt = mul(uint(deltaDebt), rate) < mul(wad, RAY) ? deltaDebt + 1 : deltaDebt;\\n        }\\n    }\\n\\n    function _getRepaidDeltaDebt(\\n        ISafeEngine safeEngine,\\n        uint stablePro,\\n        address safe,\\n        bytes32 collateralType\\n    ) internal view returns (int deltaDebt) {\\n        // Gets actual rate from the safeEngine\\n        (, uint rate,,,,,,) = safeEngine.collateralTypes(collateralType);\\n        // Gets actual safeDebt value of the safe\\n        (, uint safeDebt) = safeEngine.safes(collateralType, safe);\\n\\n        // Uses the whole StablePro balance in the safeEngine to reduce the debt\\n        deltaDebt = toInt(stablePro / rate);\\n        // Checks the calculated deltaDebt is not higher than safe.safeDebt (total debt), otherwise uses its value\\n        deltaDebt = uint(deltaDebt) <= safeDebt ? - deltaDebt : - toInt(safeDebt);\\n    }\\n\\n    function _getRepaidAllWad(\\n        ISafeEngine safeEngine,\\n        address usr,\\n        address safe,\\n        bytes32 collateralType\\n    ) internal view returns (uint wad) {\\n        // Gets actual rate from the safeEngine\\n        (, uint rate,,,,,,) = safeEngine.collateralTypes(collateralType);\\n        // Gets actual safeDebt value of the safe\\n        (, uint safeDebt) = safeEngine.safes(collateralType, safe);\\n        // Gets actual StablePro amount in the safe\\n        uint stablePro = safeEngine.coinBalance(usr);\\n\\n        uint rad = sub(mul(safeDebt, rate), stablePro);\\n        wad = rad / RAY;\\n\\n        // If the rad precision has some dust, it will need to request for 1 extra wad wei\\n        wad = mul(wad, RAY) < rad ? wad + 1 : wad;\\n    }\\n\\n//    function transfer(address gem, address dst, uint amt) public {\\n//        GemLike(gem).transfer(dst, amt);\\n//    }\\n\\n    // We make it internal to save some gas\\n    // Also we need more args instead of MakerDAO version, because of RewardChef during join/exit\\n    function _coinJoin_join(bytes32 collateralType, address apt, address cdp, uint wad) internal {\\n        // Gets StablePro from the user's wallet\\n        ICoinJoin(apt).systemCoin().transferFrom(msg.sender, address(this), wad);\\n        // Approves adapter to take the StablePro amount\\n        ICoinJoin(apt).systemCoin().approve(address(apt), wad);\\n        // Joins StablePro into the safeEngine\\n        ICoinJoin(apt).join(collateralType, msg.sender, cdp, wad);\\n    }\\n\\n    // we make it internal to save some gas\\n    function _collateralJoin_join(ICollateralJoin apt, address safe, uint amt) internal {\\n        // Gets token from the user's wallet\\n        apt.collateral().transferFrom(msg.sender, address(this), amt);\\n        // Approves adapter to take the token amount\\n        apt.collateral().approve(address(apt), amt);\\n        // Joins token collateral into the safeEngine\\n        apt.join(safe, amt);\\n    }\\n\\n    /**\\n     * For main flow we don't need that functions:\\n    function approveSAFEModification(address obj, address usr) public {\\n        ISafeEngine(obj).approveSAFEModification(usr);\\n    }\\n\\n    function denySAFEModification(address obj, address usr) public {\\n        ISafeEngine(obj).denySAFEModification(usr);\\n    }\\n\\n    function transferSAFEOwnership(address manager, uint cdp, address usr) public {\\n        IDssCdpManager(manager).transferSAFEOwnership(cdp, usr);\\n    }\\n\\n    function giveToProxy(address proxyRegistry, address manager, uint cdp, address dst) public {\\n        // Gets actual proxy address\\n        address proxy = ProxyRegistryLike(proxyRegistry).proxies(dst);\\n        // Checks if the proxy address already existed and dst address is still the owner\\n        if (proxy == address(0) || ProxyLike(proxy).owner() != dst) {\\n            uint csize;\\n            assembly {\\n                csize := extcodesize(dst)\\n            }\\n            // We want to avoid creating a proxy for a contract address that might not be able to handle proxies, then losing the CDP\\n            require(csize == 0, \\\"Dst-is-a-contract\\\");\\n            // Creates the proxy for the dst address\\n            proxy = ProxyRegistryLike(proxyRegistry).build(dst);\\n        }\\n        // Transfers CDP to the dst proxy\\n        give(manager, cdp, proxy);\\n    }\\n\\n    function cdpAllow(address manager, uint cdp, address usr, uint ok) public {\\n        IDssCdpManager(manager).cdpAllow(cdp, usr, ok);\\n    }\\n\\n    function allowHandler(address manager, address usr, uint ok) public {\\n        IDssCdpManager(manager).allowHandler(usr, ok);\\n    }\\n\\n    function quit(address manager, uint cdp, address dst) public {\\n        IDssCdpManager(manager).quit(cdp, dst);\\n    }\\n\\n    function enter(address manager, address src, uint cdp) public {\\n        IDssCdpManager(manager).enter(src, cdp);\\n    }\\n\\n    function moveSAFE(address manager, uint cdpSrc, uint cdpOrg) public {\\n        IDssCdpManager(manager).shift(cdpSrc, cdpOrg);\\n    }\\n    **/\\n\\n    // We also make this functions internal to save gas\\n    function transferCollateral(address manager, uint cdp, address dst, uint wad) internal {\\n        IDssCdpManager(manager).transferCollateral(cdp, dst, wad);\\n    }\\n\\n    function transferInternalCoins(address manager, uint cdp, address dst, uint rad) internal {\\n        IDssCdpManager(manager).transferInternalCoins(cdp, dst, rad);\\n    }\\n\\n    function modifySAFECollateralization(address manager, uint cdp, int deltaCollateral, int deltaDebt) internal {\\n        IDssCdpManager(manager).modifySAFECollateralization(cdp, deltaCollateral, deltaDebt);\\n    }\\n\\n    function openSafe(address manager, bytes32 collateralType, address usr) internal returns (uint cdp) {\\n        cdp = IDssCdpManager(manager).openSafe(collateralType, usr);\\n    }\\n\\n    // Public functions\\n\\n    /**\\n    // We don't have GNT and don't need ETH as collateral, so we commented this functions\\n    function makeGemBag(address gemJoin) public returns (address bag) {\\n        bag = GNTJoinLike(gemJoin).make(address(this));\\n    }\\n\\n    function lockETH(address manager, address ethJoin, uint cdp) public payable {\\n        // Receives ETH amount, converts it to WETH and joins it into the vat\\n        ethJoin_join(ethJoin, address(this));\\n        // Locks WETH amount into the CDP\\n        IDssCdpManager(manager).safeEngine().modifySAFECollateralization(\\n            IDssCdpManager(manager).collateralTypes(cdp),\\n            IDssCdpManager(manager).safes(cdp),\\n            address(this),\\n            address(this),\\n            toInt(msg.value),\\n            0\\n        );\\n    }\\n\\n    function safeLockETH(address manager, address ethJoin, uint cdp, address owner) public payable {\\n        require(IDssCdpManager(manager).owns(cdp) == owner, \\\"bad-owner\\\");\\n        lockETH(manager, ethJoin, cdp);\\n    }\\n    **/\\n\\n    function lockTokenCollateral(address manager, ICollateralJoin collateralJoin, uint cdp, uint amt) external {\\n        // Takes token amount from user's wallet and joins into the safeEngine\\n        _collateralJoin_join(collateralJoin, address(this), amt);\\n        // Locks token amount into the CDP\\n        IDssCdpManager(manager).safeEngine().modifySAFECollateralization(\\n            IDssCdpManager(manager).collateralTypes(cdp),\\n            IDssCdpManager(manager).safes(cdp),\\n            address(this),\\n            address(this),\\n            toInt(convertTo18(collateralJoin, amt)),\\n            0\\n        );\\n    }\\n\\n    /**\\n     * Don't see any additional security because attacker could potentially call safeLockGem\\n     * with the correct owner address (just get IDssCdpManager(manager).owns(cdp))\\n     * and bypass the intended security check\\n    function safeLockTokenCollateral(address manager,address collateralJoin,uint cdp,uint amt,address owner) public {\\n        require(IDssCdpManager(manager).owns(cdp) == owner, \\\"bad-owner\\\");\\n        lockTokenCollateral(manager, collateralJoin, cdp, amt);\\n    }\\n\\n    function freeETH(address manager, address ethJoin, uint cdp, uint wad) public {\\n        // Unlocks WETH amount from the CDP\\n        frob(manager, cdp, -toInt(wad), 0);\\n        // Moves the amount from the CDP urn to proxy's address\\n        flux(manager, cdp, address(this), wad);\\n        // Exits WETH amount to proxy address as a token\\n        GemJoinLike(ethJoin).exit(address(this), wad);\\n        // Converts WETH to ETH\\n        GemJoinLike(ethJoin).gem().withdraw(wad);\\n        // Sends ETH back to the user's wallet\\n        msg.sender.transfer(wad);\\n    }\\n    **/\\n\\n    function freeTokenCollateral(address manager, ICollateralJoin collateralJoin, uint cdp, uint amt) external {\\n        uint wad = convertTo18(collateralJoin, amt);\\n        // Unlocks token amount from the CDP\\n        modifySAFECollateralization(manager, cdp, -toInt(wad), 0);\\n        // Moves the amount from the CDP safe to proxy's address\\n        transferCollateral(manager, cdp, address(this), wad);\\n        // Exits token amount to the user's wallet as a token\\n        collateralJoin.exit(msg.sender, amt);\\n    }\\n    \\n    /**\\n    function exitETH(address manager, address ethJoin, uint cdp, uint wad) public {\\n        // Moves the amount from the CDP urn to proxy's address\\n        flux(manager, cdp, address(this), wad);\\n\\n        // Exits WETH amount to proxy address as a token\\n        GemJoinLike(ethJoin).exit(address(this), wad);\\n        // Converts WETH to ETH\\n        GemJoinLike(ethJoin).gem().withdraw(wad);\\n        // Sends ETH back to the user's wallet\\n        msg.sender.transfer(wad);\\n    }\\n    **/\\n\\n    function exitTokenCollateral(address manager, ICollateralJoin collateralJoin, uint cdp, uint amt) external {\\n        // Moves the amount from the CDP safe to proxy's address\\n        transferCollateral(manager, cdp, address(this), convertTo18(collateralJoin, amt));\\n\\n        // Exits token amount to the user's wallet as a token\\n        collateralJoin.exit(msg.sender, amt);\\n    }\\n\\n    function generateDebt(address manager, address taxCollector, address coinJoin, uint cdp, uint wad) external {\\n        address safe = IDssCdpManager(manager).safes(cdp);\\n        ISafeEngine safeEngine = IDssCdpManager(manager).safeEngine();\\n        bytes32 collateralType = IDssCdpManager(manager).collateralTypes(cdp);\\n        // Generates debt in the CDP\\n        modifySAFECollateralization(\\n            manager,\\n            cdp,\\n            0,\\n            _getGeneratedDeltaDebt(safeEngine, taxCollector, safe, collateralType, wad)\\n        );\\n        // Moves the StablePro amount (balance in the safeEngine in rad) to proxy's address\\n        transferInternalCoins(manager, cdp, address(this), toRad(wad));\\n        // Allows adapter to access to proxy's StablePro balance in the safeEngine\\n        if (safeEngine.cdpRights(address(this), address(coinJoin)) == 0) {\\n            safeEngine.approveSAFEModification(coinJoin);\\n        }\\n        // Exits StablePro to the user's wallet as a token\\n        ICoinJoin(coinJoin).exit(collateralType, msg.sender, msg.sender, wad);\\n    }\\n\\n    function repayDebt(address manager, address coinJoin, uint cdp, uint wad) external {\\n        ISafeEngine safeEngine = IDssCdpManager(manager).safeEngine();\\n        address safe = IDssCdpManager(manager).safes(cdp);\\n        bytes32 collateralType = IDssCdpManager(manager).collateralTypes(cdp);\\n\\n        address own = IDssCdpManager(manager).owns(cdp);\\n        if (own == address(this) || IDssCdpManager(manager).cdpCan(own, cdp, address(this)) == 1) {\\n            // Joins StablePro amount into the safeEngine\\n            _coinJoin_join(collateralType, coinJoin, safe, wad);\\n            // Paybacks debt to the CDP\\n            modifySAFECollateralization(\\n                manager,\\n                cdp,\\n                0,\\n                _getRepaidDeltaDebt(safeEngine, safeEngine.coinBalance(safe), safe, collateralType)\\n            );\\n        } else {\\n            // Joins StablePro amount into the safeEngine\\n            _coinJoin_join(collateralType, coinJoin, address(this), wad);\\n            // Paybacks debt to the CDP\\n            safeEngine.modifySAFECollateralization(\\n                collateralType,\\n                safe,\\n                address(this),\\n                address(this),\\n                0,\\n                _getRepaidDeltaDebt(safeEngine, wad * RAY, safe, collateralType)\\n            );\\n        }\\n    }\\n    \\n    /**\\n    * Same as in safeLockTokenCollateral\\n    function safeRepayDebt(address manager, address daiJoin, uint cdp, uint wad, address owner) public {\\n        require(IDssCdpManager(manager).owns(cdp) == owner, \\\"bad-owner\\\");\\n        repayDebt(manager, daiJoin, cdp, wad);\\n    }\\n    **/\\n\\n    function repayAllDebt(address manager, address coinJoin, uint cdp) external {\\n        ISafeEngine safeEngine = IDssCdpManager(manager).safeEngine();\\n        address safe = IDssCdpManager(manager).safes(cdp);\\n        bytes32 collateralType = IDssCdpManager(manager).collateralTypes(cdp);\\n        (, uint safeDebt) = safeEngine.safes(collateralType, safe);\\n\\n        address own = IDssCdpManager(manager).owns(cdp);\\n        if (own == address(this) || IDssCdpManager(manager).cdpCan(own, cdp, address(this)) == 1) {\\n            // Joins StablePro amount into the safeEngine\\n            _coinJoin_join(collateralType, coinJoin, safe, _getRepaidAllWad(safeEngine, safe, safe, collateralType));\\n            // Paybacks debt to the CDP\\n            modifySAFECollateralization(manager, cdp, 0, -int(safeDebt));\\n        } else {\\n            // Joins StablePro amount into the safeEngine\\n            _coinJoin_join(\\n                collateralType,\\n                coinJoin,\\n                address(this),\\n                _getRepaidAllWad(safeEngine, address(this), safe, collateralType)\\n            );\\n            // Paybacks debt to the CDP\\n            safeEngine.modifySAFECollateralization(\\n                collateralType,\\n                safe,\\n                address(this),\\n                address(this),\\n                0,\\n                -int(safeDebt)\\n            );\\n        }\\n    }\\n\\n    /**\\n    * Same as in safeLockTokenCollateral\\n    function safeRepayAllDebt(address manager, address daiJoin, uint cdp, address owner) public {\\n        require(IDssCdpManager(manager).owns(cdp) == owner, \\\"bad-owner\\\");\\n        repayAllDebt(manager, daiJoin, cdp);\\n    }\\n\\n    function lockETHAndDraw(\\n        address manager, address jug, address ethJoin, address daiJoin, uint cdp, uint wadD\\n    ) public payable {\\n        address urn = ManagerLike(manager).urns(cdp);\\n        address vat = ManagerLike(manager).vat();\\n        bytes32 ilk = ManagerLike(manager).ilks(cdp);\\n        // Receives ETH amount, converts it to WETH and joins it into the vat\\n        ethJoin_join(ethJoin, urn);\\n        // Locks WETH amount into the CDP and generates debt\\n        frob(manager, cdp, toInt(msg.value), _getDrawDart(vat, jug, urn, ilk, wadD));\\n        // Moves the DAI amount (balance in the vat in rad) to proxy's address\\n        move(manager, cdp, address(this), toRad(wadD));\\n        // Allows adapter to access to proxy's DAI balance in the vat\\n        if (VatLike(vat).can(address(this), address(daiJoin)) == 0) {\\n            VatLike(vat).hope(daiJoin);\\n        }\\n        // Exits DAI to the user's wallet as a token\\n        DaiJoinLike(daiJoin).exit(msg.sender, wadD);\\n    }\\n\\n    function openLockETHAndDraw(\\n        address manager, address jug, address ethJoin, address daiJoin, bytes32 ilk, uint wadD\\n    ) public payable returns (uint cdp) {\\n        cdp = open(manager, ilk, address(this));\\n        lockETHAndDraw(manager, jug, ethJoin, daiJoin, cdp, wadD);\\n    }\\n    **/\\n\\n    function lockTokenCollateralAndGenerateDebt(\\n        address manager,\\n        address taxCollector,\\n        ICollateralJoin collateralJoin,\\n        address coinJoin,\\n        uint cdp,\\n        uint collateralAmount,\\n        uint deltaWad\\n    ) public {\\n        address safeHandler = IDssCdpManager(manager).safes(cdp);\\n        ISafeEngine safeEngine = IDssCdpManager(manager).safeEngine();\\n        bytes32 collateralType = IDssCdpManager(manager).collateralTypes(cdp);\\n        // Takes token amount from user's wallet and joins into the safeEngine\\n        _collateralJoin_join(collateralJoin, safeHandler, collateralAmount);\\n        // Locks token amount into the SAFE and generates debt\\n        modifySAFECollateralization(\\n            manager,\\n            cdp,\\n            toInt(convertTo18(collateralJoin, collateralAmount)),\\n            _getGeneratedDeltaDebt(safeEngine, taxCollector, safeHandler, collateralType, deltaWad)\\n        );\\n        // Moves the COIN amount (balance in the safeEngine in rad) to proxy's address\\n        transferInternalCoins(manager, cdp, address(this), toRad(deltaWad));\\n        // Allows adapter to access to proxy's COIN balance in the safeEngine\\n        if (safeEngine.cdpRights(address(this), address(coinJoin)) == 0) {\\n            safeEngine.approveSAFEModification(coinJoin);\\n        }\\n        // Exits COIN to the user's wallet as a token\\n        ICoinJoin(coinJoin).exit(collateralType, msg.sender, msg.sender, deltaWad);\\n    }\\n\\n    function openLockTokenCollateralAndGenerateDebt(\\n        address manager,\\n        address taxCollector,\\n        ICollateralJoin collateralJoin,\\n        address coinJoin,\\n        bytes32 collateralType,\\n        uint amtC,\\n        uint wadD\\n    ) external returns (uint cdp) {\\n        cdp = openSafe(manager, collateralType, address(this));\\n        lockTokenCollateralAndGenerateDebt(\\n            manager, taxCollector, collateralJoin, coinJoin, cdp, amtC, wadD\\n        );\\n    }\\n\\n    /**\\n     * We don't use GNT and ETH\\n    function openLockGNTAndDraw(\\n        address manager,naddress jug, address gntJoin, address daiJoin, bytes32 ilk, uint wadC, uint wadD\\n    ) public returns (address bag, uint cdp) {\\n        // Creates bag (if doesn't exist) to hold GNT\\n        bag = GNTJoinLike(gntJoin).bags(address(this));\\n        if (bag == address(0)) {\\n            bag = makeGemBag(gntJoin);\\n        }\\n        // Transfer funds to the funds which previously were sent to the proxy\\n        GemLike(GemJoinLike(gntJoin).gem()).transfer(bag, wadC);\\n        cdp = openLockGemAndDraw(manager, jug, gntJoin, daiJoin, ilk, wadC, wadD, false);\\n    }\\n\\n    function wipeAndFreeETH(address manager, address ethJoin, address daiJoin, uint cdp, uint wadC, uint wadD) public {\\n        address urn = ManagerLike(manager).urns(cdp);\\n        // Joins DAI amount into the vat\\n        daiJoin_join(daiJoin, urn, wadD);\\n        // Paybacks debt to the CDP and unlocks WETH amount from it\\n        frob(\\n            manager,\\n            cdp,\\n            -toInt(wadC),\\n            _getWipeDart(ManagerLike(manager).vat(), VatLike(ManagerLike(manager).vat()).dai(urn), urn, ManagerLike(manager).ilks(cdp))\\n        );\\n        // Moves the amount from the CDP urn to proxy's address\\n        flux(manager, cdp, address(this), wadC);\\n        // Exits WETH amount to proxy address as a token\\n        GemJoinLike(ethJoin).exit(address(this), wadC);\\n        // Converts WETH to ETH\\n        GemJoinLike(ethJoin).gem().withdraw(wadC);\\n        // Sends ETH back to the user's wallet\\n        msg.sender.transfer(wadC);\\n    }\\n\\n    function wipeAllAndFreeETH(address manager, address ethJoin, address daiJoin, uint cdp, uint wadC) public {\\n        address vat = ManagerLike(manager).vat();\\n        address urn = ManagerLike(manager).urns(cdp);\\n        bytes32 ilk = ManagerLike(manager).ilks(cdp);\\n        (, uint art) = VatLike(vat).urns(ilk, urn);\\n\\n        // Joins DAI amount into the vat\\n        daiJoin_join(daiJoin, urn, _getWipeAllWad(vat, urn, urn, ilk));\\n        // Paybacks debt to the CDP and unlocks WETH amount from it\\n        frob(\\n            manager,\\n            cdp,\\n            -toInt(wadC),\\n            -int(art)\\n        );\\n        // Moves the amount from the CDP urn to proxy's address\\n        flux(manager, cdp, address(this), wadC);\\n        // Exits WETH amount to proxy address as a token\\n        GemJoinLike(ethJoin).exit(address(this), wadC);\\n        // Converts WETH to ETH\\n        GemJoinLike(ethJoin).gem().withdraw(wadC);\\n        // Sends ETH back to the user's wallet\\n        msg.sender.transfer(wadC);\\n    }\\n    **/\\n\\n    function repayDebtAndFreeTokenCollateral(\\n        address manager,\\n        ICollateralJoin collateralJoin,\\n        address coinJoin,\\n        uint cdp,\\n        uint amtC,\\n        uint wadD\\n    ) external {\\n        address safe = IDssCdpManager(manager).safes(cdp);\\n        bytes32 collateralType = IDssCdpManager(manager).collateralTypes(cdp);\\n        ISafeEngine safeEngine = IDssCdpManager(manager).safeEngine();\\n        // Joins StablePro amount into the safeEngine\\n        _coinJoin_join(collateralType, coinJoin, safe, wadD);\\n        uint wadC = convertTo18(collateralJoin, amtC);\\n        // Paybacks debt to the CDP and unlocks token amount from it\\n        modifySAFECollateralization(\\n            manager,\\n            cdp,\\n            -toInt(wadC),\\n            _getRepaidDeltaDebt(\\n                safeEngine,\\n                safeEngine.coinBalance(safe),\\n                safe,\\n                collateralType\\n            )\\n        );\\n        // Moves the amount from the CDP safe to proxy's address\\n        transferCollateral(manager, cdp, address(this), wadC);\\n        // Exits token amount to the user's wallet as a token\\n        collateralJoin.exit(msg.sender, amtC);\\n    }\\n\\n    function repayAllDebtAndFreeTokenCollateral(\\n        address manager,\\n        ICollateralJoin collateralJoin,\\n        address coinJoin,\\n        uint cdp,\\n        uint amtC\\n    ) external {\\n        ISafeEngine safeEngine = IDssCdpManager(manager).safeEngine();\\n        address safe = IDssCdpManager(manager).safes(cdp);\\n        bytes32 collateralType = IDssCdpManager(manager).collateralTypes(cdp);\\n        (, uint safeDebt) = safeEngine.safes(collateralType, safe);\\n\\n        // Joins StablePro amount into the safeEngine\\n        _coinJoin_join(collateralType, coinJoin, safe, _getRepaidAllWad(safeEngine, safe, safe, collateralType));\\n        uint wadC = convertTo18(collateralJoin, amtC);\\n        // Paybacks debt to the CDP and unlocks token amount from it\\n        modifySAFECollateralization(\\n            manager,\\n            cdp,\\n            -toInt(wadC),\\n            -int(safeDebt)\\n        );\\n        // Moves the amount from the CDP safe to proxy's address\\n        transferCollateral(manager, cdp, address(this), wadC);\\n        // Exits token amount to the user's wallet as a token\\n        collateralJoin.exit(msg.sender, amtC);\\n    }\\n\\n    // Public view functions. There is no such functions in original MakerDAO version.\\n\\n    // @notice Returns cdpId of users cdp that is stored in DssCdpManager.\\n    // TODO: We need to optimize it.\\n    function getCdpId(address manager, address user, bytes32 collateralType) public view returns(uint) {\\n        uint256 cdpCount = IDssCdpManager(manager).cdpCount(user);\\n        uint256 cdpId = IDssCdpManager(manager).firstCdpId(user);\\n        IDssCdpManager managerContract = IDssCdpManager(manager);\\n\\n        for (uint256 i; i < cdpCount; ++i) {\\n            if (managerContract.collateralTypes(cdpId) == collateralType) {\\n                return cdpId;\\n            }\\n            (, uint256 nextCdpId) = managerContract.list(cdpId);\\n            cdpId = nextCdpId;\\n        }\\n\\n        return type(uint256).max;\\n    }\\n\\n    // @notice UI function to get cdp info of user.\\n    function getCdpInfo(address manager, address user, bytes32 collateralType) public view returns(uint, uint) {\\n        uint256 cdpId = getCdpId(manager, user, collateralType);\\n        if (cdpId == type(uint256).max) return (0,0);\\n\\n        ISafeEngine safeEngine = IDssCdpManager(manager).safeEngine();\\n        address safe = IDssCdpManager(manager).safes(cdpId);\\n        return safeEngine.safes(collateralType, safe);\\n    }\\n\\n    // @notice UI function that returns how much user is available to withdraw collateral.\\n    function getAvailableToWithdraw(address manager, address user, bytes32 collateralType) external view returns(uint) {\\n        ISafeEngine safeEngine = IDssCdpManager(manager).safeEngine();\\n\\n        (uint256 lockedCollateral, uint256 generatedDebt) = getCdpInfo(manager, user, collateralType);\\n        (, uint rate,,, uint safetyPrice,,,) = safeEngine.collateralTypes(collateralType);\\n\\n        // If safetyPrice is not set, then answer is 0\\n        if (safetyPrice == 0) return 0;\\n\\n        // 1e18 * 1e27 / 1e27 = 1e18\\n        uint256 minCollateralAmount = mul(generatedDebt, rate) / safetyPrice; // result in base of 1e27\\n        return lockedCollateral > minCollateralAmount ? sub(lockedCollateral, minCollateralAmount) : 0;\\n    }\\n\\n    // @notice UI function that returns how much user is available to borrow stablePro using collateral.\\n    function getAvailableToBorrow(address manager, address user, bytes32 collateralType) external view returns(uint) {\\n        ISafeEngine safeEngine = IDssCdpManager(manager).safeEngine();\\n\\n        (uint256 lockedCollateral, uint256 generatedDebt) = getCdpInfo(manager, user, collateralType);\\n        (\\n            uint256 debtAmount, uint256 rate, uint256 debtCeiling,, uint safetyPrice,,,\\n        ) = safeEngine.collateralTypes(collateralType);\\n\\n        uint256 usdLimitE18 = mul(lockedCollateral, safetyPrice) / rate; // 1e18 * 1e27 / 1e27 = 1e18\\n        if (usdLimitE18 > generatedDebt) {\\n            uint256 availableToBorrow = sub(usdLimitE18, generatedDebt); // 1e18\\n\\n            uint256 globalAvailableToBorrow = sub(safeEngine.globalDebtCeiling(), safeEngine.globalDebt()); // 1e45\\n            if (globalAvailableToBorrow < toRad(availableToBorrow)) return globalAvailableToBorrow  / RAY;\\n\\n            uint256 collateralAvailableToBorrow = sub(debtCeiling, toRad(debtAmount)); // 1e45\\n            if (collateralAvailableToBorrow < toRad(add(debtAmount, availableToBorrow))) {\\n                return collateralAvailableToBorrow / RAY;\\n            }\\n\\n            return availableToBorrow;\\n        }\\n\\n        return 0;\\n    }\\n}\\n\\n// We also don't need DssProxyActionsEnd and DssProxyActionsDsr contracts\\n\",\"keccak256\":\"0x8b7ddbcf9a965e5c68234f0c22cf681d9275f248e483a3bb91f35be912253ac8\",\"license\":\"AGPL-3.0-or-later\"},\"contracts/makerdao/interfaces/ICoin.sol\":{\"content\":\"// SPDX-License-Identifier: UNLICENSED\\n\\npragma solidity ^0.8.0;\\n\\nimport \\\"@openzeppelin/contracts/token/ERC20/IERC20.sol\\\";\\n\\ninterface ICoin is IERC20 {\\n    function mint(address account, uint256 amount) external;\\n    function burn(address account, uint256 amount) external;\\n}\\n\",\"keccak256\":\"0x4552a784b9f87c84a4badb298c1d007873304f0f1da6b896defac2df25325f1b\",\"license\":\"UNLICENSED\"},\"contracts/makerdao/interfaces/ICoinJoin.sol\":{\"content\":\"// SPDX-License-Identifier: UNLICENSED\\n\\npragma solidity ^0.8.0;\\n\\nimport {IDisable} from \\\"./IDisable.sol\\\";\\nimport {ICoin} from \\\"./ICoin.sol\\\";\\n\\n/**\\n * @title ITaxCollector\\n **/\\ninterface ICoinJoin is IDisable {\\n    /* ==================== EVENTS ==================== */\\n    event Join(address indexed usr, uint256 wad);\\n    event JoinNoReward(address indexed usr, uint256 wad);\\n    event Exit(address indexed usr, uint256 wad);\\n    event ExitNoReward(address indexed usr, uint256 wad);\\n    event UpdateRewardChef();\\n\\n    /* ====================== VARS ==============-====== */\\n    function systemCoin() external returns (ICoin);\\n\\n    /* ==================== METHODS ==================== */\\n\\n    /**\\n    * @notice Join pegged-coins in the system\\n    * @dev Exited coins have 18 decimals but inside the system they have 45 (rad) decimals.\\n           When we join, the amount (wad) is multiplied by 10**27 (ray)\\n    * @param collateralType Collateral that will be used for borrow\\n    * @param user Account that call borrow/repay function and will receive rewards in RewardChef\\n    * @param cdp Account that will receive the joined coins\\n    * @param wad Amount of external coins to join (18 decimal number)\\n    **/\\n    function join(bytes32 collateralType, address user, address cdp, uint wad) external;\\n\\n    /**\\n    * @notice Simple version of join(). Don't have Rewards, it is useful for our smart-contracts.\\n    * @param cdp Account that will receive the joined coins\\n    * @param wad Amount of external coins to join (18 decimal number)\\n    **/\\n    function joinNoReward(address cdp, uint wad) external;\\n\\n    /**\\n    * @notice Exit pegged-coins from the system and inside 'Coin.sol'\\n    * @dev Inside the system, coins have 45 (rad) decimals but outside they have 18 decimals (wad).\\n           When we exit, we specify a wad amount of coins and then the contract automatically multiplies\\n           wad by 10**27 to move the correct 45 decimal coin amount to this adapter\\n    * @param collateralType Collateral that will be used for repay\\n    * @param user Account that call borrow/repay function and will receive rewards in RewardChef\\n    * @param cdp Account that will receive the exited coins\\n    * @param wad Amount of internal coins to join (18 decimal number that will be multiplied by ray)\\n    **/\\n    function exit(bytes32 collateralType, address user, address cdp, uint wad) external;\\n\\n    /**\\n    * @notice Simple version of exit(). Don't have Rewards, it is useful for our smart-contracts.\\n    * @param cdp Account that will receive the joined coins\\n    * @param wad Amount of external coins to join (18 decimal number)\\n    **/\\n    function exitNoReward(address cdp, uint wad) external;\\n\\n    /**\\n    * @notice We use rewardChef to increaseAmount/decreaseAmount during join and exit,\\n    * so admin should be able to change RewardChef contract's address.\\n    * @param rewardChef New address of RewardChef contract.\\n    **/\\n    function updateRewardChef(address rewardChef) external;\\n\\n    /**\\n    * @notice We need to save mapping of collateralType => collateralAddress to work with RewardChef.\\n    * @param _collateralType Collateral type as bytes32, that we use in our protocol.\\n    * @param _collateralAddress Address of collateral\\n    **/\\n    function initializeCollateralType(bytes32 _collateralType, address _collateralAddress) external;\\n}\\n\",\"keccak256\":\"0x391ab28dba9d5ac4a9715b4a11bde06ee5f01a7c998921f88d5f75871bacb342\",\"license\":\"UNLICENSED\"},\"contracts/makerdao/interfaces/ICollateralJoin.sol\":{\"content\":\"// SPDX-License-Identifier: UNLICENSED\\n\\npragma solidity ^0.8.0;\\n\\nimport \\\"@openzeppelin/contracts/token/ERC20/extensions/IERC20Metadata.sol\\\";\\nimport {IDisable} from \\\"./IDisable.sol\\\";\\n\\n/**\\n * @title ITaxCollector\\n **/\\ninterface ICollateralJoin is IDisable {\\n\\n    /* ===================== EVENTS ===================== */\\n\\n    event Join(address indexed usr, uint256 wad);\\n    event Exit(address indexed usr, uint256 wad);\\n\\n    /* ====================== VARS ===================== */\\n    function decimals() external returns (uint);\\n    function collateral() external view returns(IERC20Metadata);\\n\\n    /* ==================== METHODS ==================== */\\n\\n    /**\\n    * @notice Join collateral in the system\\n    * @param usr Account from which we transferFrom collateral and add it in the system\\n    * @param wad Amount of collateral to transfer in the system (represented as a number with 18 decimals)\\n    **/\\n    function join(address usr, uint wad) external;\\n\\n    /**\\n    * @notice Exit collateral from the system\\n    * @param usr Account to which we transfer the collateral\\n    * @param wad Amount of collateral to transfer to 'account' (represented as a number with 18 decimals)\\n    **/\\n    function exit(address usr, uint wad) external;\\n}\\n\",\"keccak256\":\"0xb276834f1935ca409ecca5542ef257f9b68e1e91c53b9bdc6b73f0db63210c07\",\"license\":\"UNLICENSED\"},\"contracts/makerdao/interfaces/IDisable.sol\":{\"content\":\"// SPDX-License-Identifier: UNLICENSED\\n\\npragma solidity ^0.8.0;\\n\\ninterface IDisable {\\n    event DisableContract();\\n\\n    function disableContract() external;\\n}\\n\",\"keccak256\":\"0xcf4b5ac43556af77a174aa3a3a9b51c4fc89b933ef875797650542bf686b8405\",\"license\":\"UNLICENSED\"},\"contracts/makerdao/interfaces/IDssCdpManager.sol\":{\"content\":\"// SPDX-License-Identifier: UNLICENSED\\n\\npragma solidity ^0.8.0;\\n\\nimport \\\"../interfaces/ISafeEngine.sol\\\";\\n\\n/**\\n * @title IDssMiddleware\\n **/\\ninterface IDssCdpManager {\\n\\n    /* ==================== STRUCTS ==================== */\\n\\n    struct List {\\n        uint prev;\\n        uint next;\\n    }\\n\\n    /* ==================== EVENTS ===================== */\\n\\n    event NewCdp(address indexed usr, address indexed own, uint indexed cdp);\\n\\n\\n    /* ===================== VARS ====================== */\\n\\n    // @notice CDPId => CollateralType\\n    function collateralTypes(uint cdp) external view returns (bytes32);\\n    // @notice CDPId => CdpHandler\\n    function safes(uint cdp) external view returns (address);\\n    // @notice Address of safeEngine\\n    function safeEngine() external view returns (ISafeEngine);\\n    // @notice CDPId => Owner\\n    function owns(uint cdp) external view returns (address);\\n    // @notice Owner => CDPId => Allowed Addr => True/False\\n    function cdpCan(address owner, uint cdp, address allowedAddress) external view returns (uint);\\n    // @notice Owner => Amount of CDPs\\n    function cdpCount(address owner) external view returns (uint);\\n    // @notice Owner => First CDPId\\n    function firstCdpId(address owner) external view returns (uint);\\n    // @notice Owner => Last CDPId\\n    function lastCdpId(address owner) external view returns (uint);\\n    // @notice CDPId => Prev & Next CDPIds (double linked list)\\n    function list(uint cdp) external view returns (uint prev, uint next);\\n\\n    /* ==================== METHODS ==================== */\\n\\n    // @notice Allow/disallow a usr address to manage the cdp.\\n    function cdpAllow(uint cdp, address usr, uint ok) external;\\n\\n    // @notice Allow/disallow a usr address to quit to the the sender urn.\\n    function allowHandler(address usr, uint ok) external;\\n\\n    // @notice Open a new cdp for a given usr address.\\n    function openSafe(bytes32 collateralType, address usr) external returns (uint);\\n\\n    // @notice Give the cdp ownership to a dst address.\\n    function transferSafeOwnership(uint cdp, address dst) external;\\n\\n    // @notice Modify the cdp keeping the generated StablePro or collateral freed in the cdp urn address.\\n    function modifySAFECollateralization(uint cdp, int deltaCollateral, int deltaDebt) external;\\n\\n    // @notice Transfer wad amount of cdp collateral from the cdp address to a dst address.\\n    function transferCollateral(uint cdp, address dst, uint wad) external;\\n\\n    // @notice Transfer wad amount of any type of collateral (ilk) from the cdp address to a dst address.\\n    // This function has the purpose to take away collateral from the system that doesn't correspond to the cdp\\n    // but was sent there wrongly.\\n    function transferCollateral(bytes32 ilk, uint cdp, address dst, uint wad) external;\\n\\n    // @notice Transfer wad amount of StablePro from the cdp address to a dst address.\\n    function transferInternalCoins(uint cdp, address dst, uint rad) external;\\n\\n    // @notice Quit the system, migrating the cdp (lockedCollateral, generatedDebt) to a different dst urn\\n    function quit(uint cdp, address dst) external;\\n\\n    // @notice Import a position from src urn to the urn owned by cdp\\n    function enter(address src, uint cdp) external;\\n\\n    // @notice Move a position from cdpSrc urn to the cdpDst urn\\n    function moveSAFE(uint cdpSrc, uint cdpDst) external;\\n}\\n\",\"keccak256\":\"0x55c641947b4cefe2e1dbc413e579b960d64bd55351942b2e88494bb21913fb39\",\"license\":\"UNLICENSED\"},\"contracts/makerdao/interfaces/ISafeEngine.sol\":{\"content\":\"// SPDX-License-Identifier: UNLICENSED\\n// TODO: check how to operate with license and use one for all contracts\\n\\npragma solidity ^0.8.0;\\n\\nimport \\\"./IDisable.sol\\\";\\n\\n/**\\n * @title SafeEngine\\n * @notice The single source of truth for the Maker Protocol. It contains the accounting system of the core Vault,\\n * Internal StablePro balances, and collateral state. It houses the public interface for Vault management,\\n * allowing safe(= CDP or Vault) owners to adjust their Vault state balances. It also contains the public interface\\n * for Vault fungibility, allowing safe (Vault) owners to transfer, split, and merge Vaults.\\n * Excluding these interfaces, SAFEEngine is accessed through trusted smart contract modules.\\n **/\\ninterface ISafeEngine is IDisable {\\n    /* ==================== METHODS ==================== */\\n\\n    // --- Data ---\\n    struct CollateralType {\\n        uint256 debtAmount;        // Total debt issued for this specific collateral type                          [wad]\\n        uint256 accumulatedRate;   // Accumulator for interest accrued on this collateral type                     [ray]\\n        uint256 debtCeiling;       // Maximum amount of debt that can be generated with this collateral type       [rad]\\n        uint256 debtFloor;         // Minimum amount of debt that must be generated by a CDP using this collateral [rad]\\n        uint256 safetyPrice;       // Floor price at which a CDP is allowed to generate debt                       [ray]\\n        uint256 liquidationRatio;  // Liquidation ratio to calculate safety price                                  [ray]\\n        address collateralAddress; // Address of collateral\\n        uint256 safetyPriceBlockNumber; // Block when safetyPrice was updated\\n    }\\n    struct SAFE {\\n        uint256 lockedCollateral; // Total amount of collateral locked in a SAFE/CDP  [wad]\\n        uint256 generatedDebt;    // Total amount of debt generated by a SAFE/CDP     [wad]\\n    }\\n\\n    // --- VARS ---\\n\\n    function safes(bytes32, address) external view returns (uint, uint);\\n\\n    function collateralTypes(bytes32) external view returns (\\n        uint256 debtAmount,       // [wad]\\n        uint256 accumulatedRate,  // [ray]\\n        uint256 debtCeiling,      // [rad]\\n        uint256 debtFloor,        // [rad]\\n        uint256 safetyPrice,      // [ray]\\n        uint256 liquidationRatio, // [ray]\\n        address collateralAddress,\\n        uint256 safetyPriceBlockNumber\\n);\\n\\n    function tokenCollateral(bytes32, address) external view returns (uint256);\\n\\n    function coinBalance(address) external view returns (uint256);\\n\\n    function debtBalance(address) external view returns (uint256);\\n\\n    function cdpRights(address, address) external view returns (uint256);\\n\\n    function globalDebtCeiling() external view returns (uint256);\\n\\n    function globalDebt() external view returns (uint256);\\n\\n    // --- Auth ---\\n    /**\\n     * @notice Allow an address to modify your CDP.\\n     * For example coinAdapter should be able to modify your CDP to withdraw all correctly.\\n     * @param usr Account to give CDP permissions to\\n     */\\n    function approveSAFEModification(address usr) external;\\n\\n    /**\\n     * @notice Deny an address the rights to modify your CDP\\n     * @param usr Account to give CDP permissions to\\n     */\\n    function denySAFEModification(address usr) external;\\n\\n    // --- Administration ---\\n\\n    function initializeCollateralType(bytes32 collateralType, address collateralAddress) external;\\n    // TODO: check why not to use strings instead of bytes32\\n    /**\\n     * @notice Method to modify some global variables\\n     * @param what - name of variable we want to change\\n     * @param data - new value of this variable\\n     */\\n    function modifyParameters(bytes32 what, uint data) external;\\n    /**\\n     * @notice Method to modify values in struct of collateralTypes\\n     * @param collateralType - collateral type we want to modify (collateralTypes[collateralType])\\n     * @param what - name of variable in struct we want to change\\n     * @param data - new value of this variable\\n     */\\n    function modifyParameters(bytes32 collateralType, bytes32 what, uint data) external;\\n\\n    // --- Fungibility ---\\n    function modifyCollateralBalance(bytes32 collateralType, address usr, int256 wad) external;\\n    function transferCollateral(bytes32 collateralType, address src, address dst, uint256 wad) external;\\n    function transferInternalCoins(address src, address dst, uint256 rad) external;\\n\\n    // --- SafetyPrice Manipulation ---\\n    /**\\n     * @notice Method to update safetyPrice, it's called each time, when function need actual safetyPrice\\n     * @param collateralType - safetyPrice's collateral type we want to update\\n     */\\n    function updateSafetyPrice(bytes32 collateralType) external;\\n\\n    // --- CDP Manipulation ---\\n    /**\\n     * @notice Add/remove collateral or put back/generate more debt in a CDP\\n     * @param collateralType Type of collateral to withdraw/deposit in and from the CDP\\n     * @param cdp Target CDP\\n     * @param collateralSource Account we take collateral from/put collateral into\\n     * @param debtDestination Account from which we credit/debit coins and debt\\n     * @param deltaCollateral Amount of collateral added/extract from the CDP\\n     * @param deltaDebt Amount of debt to generate/repay\\n     */\\n    function modifySAFECollateralization(\\n        bytes32 collateralType,\\n        address cdp,\\n        address collateralSource,\\n        address debtDestination,\\n        int deltaCollateral,\\n        int deltaDebt\\n    ) external;\\n\\n    // --- CDP Fungibility ---\\n    /**\\n     * @notice Transfer collateral and/or debt between CDPs\\n     * @param collateralType Collateral type transferred between CDPs\\n     * @param src Source CDP\\n     * @param dst Destination CDP\\n     * @param deltaCollateral Amount of collateral to take/add into src and give/take from dst\\n     * @param deltaDebt Amount of debt to take/add into src and give/take from dst\\n     */\\n    function transferSAFECollateralAndDebt(\\n        bytes32 collateralType,\\n        address src,\\n        address dst,\\n        int deltaCollateral,\\n        int deltaDebt\\n    ) external;\\n\\n    // --- CDP Confiscation ---\\n    /**\\n     * @notice Normally used by the LiquidationEngine in order to confiscate collateral and\\n       debt from a CDP and give them to someone else\\n     * @param collateralType Collateral type the CDP has locked inside\\n     * @param cdp Target CDP\\n     * @param collateralCounterparty Who we take/give collateral to\\n     * @param debtCounterparty Who we take/give debt to\\n     * @param deltaCollateral Amount of collateral taken/added into the CDP\\n     * @param deltaDebt Amount of debt taken/added into the CDP\\n     */\\n    function confiscateSAFECollateralAndDebt(\\n        bytes32 collateralType,\\n        address cdp,\\n        address collateralCounterparty,\\n        address debtCounterparty,\\n        int deltaCollateral,\\n        int deltaDebt\\n    ) external;\\n\\n    // --- Settlement ---\\n    /**\\n     * @notice Nullify an amount of coins with an equal amount of debt\\n     * @param rad Amount of debt & coins to destroy (expressed as a number with 45 decimals)\\n     */\\n    function settleDebt(uint rad) external;\\n\\n    /**\\n     * @notice Usually called by CoinSavingsAccount in order to create unbacked debt\\n     * @param debtDestination Usually AccountingEngine that can settle decreaseSoldAmount with surplus\\n     * @param coinDestination Usually CoinSavingsAccount who passes the new coins to depositors\\n     * @param rad Amount of debt to create (expressed as a number with 45 decimals)\\n     */\\n    function createUnbackedDebt(address debtDestination, address coinDestination, uint rad) external;\\n\\n    // --- Rates ---\\n    /**\\n     * @notice Usually called by TaxCollector in order to accrue interest on a specific collateral type\\n     * @param collateralType Collateral type we accrue interest for\\n     * @param surplusDst Destination for amount of surplus created by applying the interest rate\\n       to debt created by CDPs with 'collateralType'\\n     * @param accumulatedRate Multiplier applied to the debtAmount in order to calculate the surplus\\n     */\\n    function updateAccumulatedRate(bytes32 collateralType, address surplusDst, int accumulatedRate) external;\\n}\\n\",\"keccak256\":\"0xf7b5850f4e32a440964ccd8b177cbd8ab6667166fe0a3dbbe69dc1a33215fccf\",\"license\":\"UNLICENSED\"},\"contracts/makerdao/interfaces/ITaxCollector.sol\":{\"content\":\"// SPDX-License-Identifier: UNLICENSED\\n\\npragma solidity ^0.8.0;\\n\\n/**\\n * @title ITaxCollector\\n **/\\ninterface ITaxCollector {\\n    /* ==================== EVENTS ==================== */\\n    event DisableContract();\\n\\n    /* ==================== STRUCTS ==================== */\\n\\n    struct CollateralType {\\n        uint256 stabilityFee;      // Collateral-specific, per-second stability fee contribution [ray]\\n        uint256 latestUpdateTime;  // Time of last taxSingle [unix epoch time]\\n    }\\n\\n\\n    /* ==================== METHODS ==================== */\\n\\n    // --- Administration ---\\n    function initializeCollateralType(bytes32 collateralType) external;\\n    function modifyParameters(bytes32 collateralType, bytes32 what, uint data) external;\\n    function modifyParameters(bytes32 what, uint data) external;\\n    function modifyParameters(bytes32 what, address data) external;\\n\\n\\n    // --- Stability Fee Collection ---\\n    /**\\n     * @notice Collect tax from a single collateral type\\n     * @param collateralType Collateral type to tax\\n     */\\n    function taxSingle(bytes32 collateralType) external returns (uint rate);\\n}\\n\",\"keccak256\":\"0x7d66d3db88a9a4dd1cf1e240975dc4df1f6e39917776dee98d1065982328f1dc\",\"license\":\"UNLICENSED\"}},\"version\":1}",
  "bytecode": "0x6080806040523461001657612955908161001c8239f35b600080fdfe60406080815260048036101561001457600080fd5b600091823560e01c806303f2cd05146112a75783816313cc55e414611087575080632581700814610d5b5780632af7ec8b14610d355780632dc469a314610b38578063434fa72214610b1c5780636093c97514610a4c5780637a2a103114610a305780637a4d9a47146109565780637f5b1a1b1461090f578381638f86e01514610763578163b02f9e3d146104b857508063bb44afd3146104915763f7f898b0146100be57600080fd5b3461048d57606036600319011261048d576100d761131c565b906100e0611348565b81516367aea31360e01b81529093604435926001600160a01b03858116939092602092899190848483818a5afa938415610483578394610454575b50805163434efcbd60e01b81528281018990529480866024818b5afa95861561044a57849661040f575b5081516348c5be7f60e11b81528381018a90529681886024818c5afa9788156104055785986103ce575b508251630f50894160e21b81529886821692909190848b806101948c8e8b8401611bb1565b0381875afa9a8b156103c457879b610393575b50845163040b0d8960e51b81528681018d9052918183602481875afa92831561038957889361034e575b50821630149182156102c9575b50501590506102185750505050918161021597610204838361020a9661020f9998611e91565b92611cde565b611826565b916118ae565b80f35b9496929990975061020a919850610235868861023e963090611e91565b90309087611cde565b94813b156102c55784516399bec31560e01b81529081019283526001600160a01b039093166020830152306040830181905260608301526000608083015260a08201949094529092849184919082908490829060c00103925af19081156102bc57506102a957505080f35b6102b2906113e2565b6102b95780f35b80fd5b513d84823e3d90fd5b8680fd5b6102ed925081938d87518095819482936302d75da360e51b845230918d8501611b36565b03915afa91821561034457869261030c575b50506001148038806101de565b8196508092503d831161033d575b610324818361140b565b810103126103385760018c945190386102ff565b600080fd5b503d61031a565b84513d88823e3d90fd5b9092508181813d8311610382575b610366818361140b565b8101031261037e576103779061144d565b91386101d1565b8780fd5b503d61035c565b86513d8a823e3d90fd5b6103b4919b50853d87116103bd575b6103ac818361140b565b810190611b9b565b905099386101a7565b503d6103a2565b85513d89823e3d90fd5b82809299508196503d83116103fe575b6103e8818361140b565b81010312610338579251958b939061019461016f565b503d6103de565b83513d87823e3d90fd5b9080965081813d8311610443575b610427818361140b565b8101031261043f576104389061144d565b9438610145565b8380fd5b503d61041d565b82513d86823e3d90fd5b610475919450853d871161047c575b61046d818361140b565b81019061142e565b923861011b565b503d610463565b81513d85823e3d90fd5b8280fd5b8382346104b4576020906104ad6104a7366113ad565b916125e2565b9051908152f35b5080fd5b8084843461075f5760a036600319011261075f576104d461131c565b916104dd611348565b6104e5611332565b835163434efcbd60e01b81526064358482018190526001600160a01b0387811697608435959194936020939284826024818e5afa918215610755579089949392918d92610718575b508a516367aea31360e01b81529486908690818f5afa9485156106ef578d956106f9575b50858b51809d6348c5be7f60e11b8252868d830152815a91602492fa9b8c156106ef578d9c6106b1575b509161059a6105938a8e8897956105ab978d9a611982565b83836118ae565b6105a38961156d565b913091611afd565b16908651636d24dd6d60e11b81528181806105c987308c8401611940565b0381865afa9182156106a7578a92610676575b505015610629575b5016803b15610625576106129486809486519788958694859363f0b522db60e01b855233913391860161195a565b03925af19081156102bc57506102a95750f35b8580fd5b803b1561037e578780916024885180948193631b29a84160e31b83528888168b8401525af1801561038957908891610662575b506105e4565b61066b906113e2565b6102c557868961065c565b819a508092503d83116106a0575b61068e818361140b565b81010312610338578897518a806105dc565b503d610684565b88513d8c823e3d90fd5b929c509a5092918482813d81116106e8575b6106cd818361140b565b81010312610338578c9b87948993519c91935091939461057b565b503d6106c3565b8b513d8f823e3d90fd5b610711919550863d881161047c5761046d818361140b565b938e610551565b945090508484813d811161074e575b610731818361140b565b8101031261074a57610743899461144d565b908e61052d565b8b80fd5b503d610727565b8a513d8e823e3d90fd5b5050fd5b8084843461075f5761077436611374565b92909194610783843088611671565b84516367aea31360e01b81526020966001600160a01b039384169591888185818a5afa9081156106a7579085918b916108f2575b5016958751956348c5be7f60e11b875280858801528987602481855afa9687156108e8578b976108b5575b50899060248a518094819363434efcbd60e01b8352898301525afa9889156106a7578a99610870575b505061081f9161081a916114a0565b611461565b91843b1561037e57879460c49386928851998a9788966399bec31560e01b885287015216602485015230604485015230606485015260848401528160a48401525af19081156102bc57506102a95750f35b9080929950813d83116108ae575b610888818361140b565b810103126108aa5761081f916108a061081a9261144d565b989181935061080b565b8880fd5b503d61087e565b9a509550888a813d81116108e1575b6108ce818361140b565b8101031261033857888b9a5196906107e2565b503d6108c4565b89513d8d823e3d90fd5b61090991508a3d8c1161047c5761046d818361140b565b8c6107b7565b83346102b95760e03660031901126102b95761021561092c61131c565b610934611348565b61093c611332565b9161094561135e565b60c4359360a4359360843593611ffe565b508290346104b45760e03660031901126104b45761097261131c565b9261097b611348565b90610984611332565b6109af602061099161135e565b938651809381926339855fd160e11b83523090608435908401611bb1565b0381896001600160a01b038c165af1958615610a2557956109e9575b5094846109e3939260209760c4359460a43594611ffe565b51908152f35b92919450946020833d8211610a1d575b81610a066020938361140b565b8101031261033857915191949193909160206109cb565b3d91506109f9565b8551903d90823e3d90fd5b8382346104b4576020906104ad610a46366113ad565b916122c8565b508290346104b457610a5d36611374565b93929591610a6b85826114a0565b96610a7861020a89611461565b6001600160a01b03939082851690813b1561033857600091606483928a5194859384926318f0203f60e31b8452888d85015260248401528160448401525af18015610b115791610ad393918a9b93610b02575b503091611858565b1692833b15610afe5761061293859283855180978195829463ef693bed60e01b845233908401611656565b8480fd5b610b0b906113e2565b8b610acb565b87513d6000823e3d90fd5b8382346104b4576020906104ad610b32366113ad565b916126e0565b50903461048d5760a036600319011261048d5782610b5461131c565b610b5c611348565b93610b65611332565b81516367aea31360e01b815295608435936001600160a01b0392838216916064356020808c8c81885afa9485156106a7578b9c8b9c999a9b96610d16575b50895163434efcbd60e01b81529c8d01839052818d602481845afa9c8d15610755578c9d610cdf575b50818360248b8d5194859384926348c5be7f60e11b84528301525afa918215610755578c92610cae575b50508851630f50894160e21b81529b898d80610c1584868e8401611bb1565b03818b8a165afa948515610755578c9d8b610ad3999a9b9c9d9e97610c7b575b5050610204838380610c499798999a611e91565b610c74610c568a876114a0565b93610c6c610c6661020a87611461565b91611826565b9083856118f6565b3091611858565b610c49959697508380610c9f61020494848995903d106103bd576103ac818361140b565b9050999897505050508c610c35565b819c508092503d8311610cd8575b610cc6818361140b565b81010312610338578b99513880610bf6565b503d610cbc565b909c508181813d8311610d0f575b610cf7818361140b565b8101031261074a57610d089061144d565b9b38610bcc565b503d610ced565b610d2e919650823d841161047c5761046d818361140b565b9438610ba3565b5082346102b95750610d4f610d49366113ad565b91612486565b82519182526020820152f35b503461048d57608036600319011261048d57610d7561131c565b90610d7e611348565b81516367aea31360e01b815293604435926001600160a01b038581169392602090606435828a83818a5afa998a1561107d578b9a61105e575b50845163434efcbd60e01b81528281018990529583876024818b5afa968715611054578c9761101d575b5085516348c5be7f60e11b81528381018a9052978489602481845afa988915610f9f578d99610fee575b508c875163040b0d8960e51b81528b868201528681602481865afa918215610fe357908792610fa9575b503088821614928315610f31575b505050600014610ed75783929187610e5b928a611cde565b6024855180958193633eaf7a0360e21b8352818a16908301528c165afa928315610ece57508892610e98575b50509061020f929161021596611bca565b908094939250813d8311610ec7575b610eb1818361140b565b810103126103385791519091908561020f610e87565b503d610ea7565b513d8a823e3d90fd5b909a999497508a919850610ef19250959495309086611cde565b811690676765c793fa10079d601b1b9788810298818a041490151715610f1e578284889961023e93611bca565b634e487b7160e01b875260118652602487fd5b610f5393508c8a518095819482936302d75da360e51b845230918c8501611b36565b03915afa8015610f9f578d90610f71575b6001915014843880610e43565b508481813d8311610f98575b610f87818361140b565b810103126103385760019051610f64565b503d610f7d565b87513d8f823e3d90fd5b82819392503d8311610fdc575b610fc0818361140b565b81010312610fd857610fd2869161144d565b38610e35565b8d80fd5b503d610fb6565b8951903d90823e3d90fd5b9098508481813d8311611016575b611006818361140b565b8101031261033857519738610e0b565b503d610ffc565b9096508381813d831161104d575b611035818361140b565b8101031261074a576110469061144d565b9538610de1565b503d61102b565b86513d8e823e3d90fd5b611076919a50833d851161047c5761046d818361140b565b9838610db7565b85513d8d823e3d90fd5b8084843461075f5760c036600319011261075f576110a361131c565b916110ac611348565b6110b4611332565b835163434efcbd60e01b8152606435848201819052608435966001600160a01b0394939092858416916020908183602481875afa928315610755578c93611270575b5089516348c5be7f60e11b8152898101869052938285602481845afa9485156106ef578d95611230575b5090828a9796959493928c51988980926367aea31360e01b82525afa9687156106ef57908b949392918e9861120d575b50611160908360a4359186611cde565b61116a8c896114a0565b9689828c602461117c61020a8d611461565b985180948193633eaf7a0360e21b8352818a169083015286165afa928315611201578f936111bd575b505092610ad39796959492610c6c92610c7495611bca565b8092959f508193509897969593983d83116111fa575b6111dd818361140b565b8101031261033857518d9c95969495939491939282610c746111a5565b503d6111d3565b8f8e51903d90823e3d90fd5b61116091985061122990833d851161047c5761046d818361140b565b9790611150565b8380939e5081989796509194933d8311611269575b61124f818361140b565b810103126103385794518c9b949593949093919282611120565b503d611245565b9092508181813d83116112a0575b611288818361140b565b8101031261074a576112999061144d565b918d6110f6565b503d61127e565b503461048d57826112cf6112ba36611374565b9391926112c785856114a0565b913091611858565b6001600160a01b0316803b1561048d576112ff9483855180978195829463ef693bed60e01b845233908401611656565b03925af19081156102bc5750611313575080f35b610215906113e2565b600435906001600160a01b038216820361033857565b604435906001600160a01b038216820361033857565b602435906001600160a01b038216820361033857565b606435906001600160a01b038216820361033857565b6080906003190112610338576001600160a01b039060043582811681036103385791602435908116810361033857906044359060643590565b6060906003190112610338576001600160a01b0390600435828116810361033857916024359081168103610338579060443590565b6001600160401b0381116113f557604052565b634e487b7160e01b600052604160045260246000fd5b601f909101601f19168101906001600160401b038211908210176113f557604052565b9081602091031261033857516001600160a01b03811681036103385790565b51906001600160a01b038216820361033857565b906000821261146c57565b60405162461bcd60e51b815260206004820152600c60248201526b696e742d6f766572666c6f7760a01b6044820152606490fd5b60405163313ce56760e01b815260009392916020908290600490829088906001600160a01b03165af1908115611542578491611511575b50601203601281116114fd57604d81116114fd576114fa929350600a0a906115df565b90565b634e487b7160e01b84526011600452602484fd5b90506020813d821161153a575b8161152b6020938361140b565b8101031261043f5751386114d7565b3d915061151e565b6040513d86823e3d90fd5b8115611557570490565b634e487b7160e01b600052601260045260246000fd5b676765c793fa10079d601b1b8082029291908115828504821417156115c95783040361159557565b60405162461bcd60e51b815260206004820152600c60248201526b6d756c2d6f766572666c6f7760a01b6044820152606490fd5b634e487b7160e01b600052601160045260246000fd5b6000929180159182156115f6575b50501561159557565b808202945091508115828504821417156115c957611614908461154d565b1438806115ed565b90816020910312610338575180151581036103385790565b6001600160a01b03918216815291166020820152604081019190915260600190565b6001600160a01b039091168152602081019190915260400190565b6040805163d8dfeb4560e01b8082526001600160a01b039384169592949360209283816004818b5afa908115610b1157600091611809575b5083875180926323b872dd60e01b825281600086826116cd8c303360048501611634565b0393165af18015610b11576117ec575b50855191825282826004818a5afa9182156117e1576117229288859387936000936117bf575b506000908a5180978196829563095ea7b360e01b845260048401611656565b0393165af180156117b457611786575b5050833b156103385761175e93600092838551809781958294633b4da69f60e01b845260048401611656565b03925af190811561177c57506117715750565b61177a906113e2565b565b513d6000823e3d90fd5b816117a592903d106117ad575b61179d818361140b565b81019061161c565b503880611732565b503d611793565b85513d6000823e3d90fd5b60009193506117da90863d881161047c5761046d818361140b565b9290611703565b86513d6000823e3d90fd5b61180290843d86116117ad5761179d818361140b565b50386116dd565b6118209150843d861161047c5761046d818361140b565b386116a9565b600160ff1b81146115c95760000390565b9081526001600160a01b039091166020820152604081019190915260600190565b919290916001600160a01b0316803b156103385761189193600080946040519687958694859363438ac0d160e11b855260048501611837565b03925af180156118a2576117715750565b6040513d6000823e3d90fd5b6001600160a01b031691823b156103385760646000928360405195869485936318f0203f60e31b8552600485015282602485015260448401525af180156118a2576117715750565b9091906001600160a01b0316803b15610338576000928360649260405196879586946318f0203f60e31b86526004860152602485015260448401525af180156118a2576117715750565b6001600160a01b0391821681529116602082015260400190565b9081526001600160a01b03918216602082015291166040820152606081019190915260800190565b94939091600095600093604051956336286ddd60e11b8752600487015260209283876024818960018060a01b038097165af1968715611ae5578697611ab5575b50604051633eaf7a0360e21b8152908216600482015291839183916024918391165afa918215611542578492611a87575b50506119fe8261156d565b8110611a0b575b50505050565b83949550611a3561081a839495611a30611a3c94611a2b611a429761156d565b611af0565b61154d565b94856115df565b9161156d565b1115611a8157600182019181600184129112908015821691151617611a6d57505b9038808080611a05565b634e487b7160e01b81526011600452602490fd5b50611a63565b90809250813d8311611aae575b611a9e818361140b565b8101031261048d575138806119f3565b503d611a94565b9096508381813d8311611ade575b611acd818361140b565b8101031261062557519560246119c2565b503d611ac3565b6040513d88823e3d90fd5b9081039081116115c95790565b919290916001600160a01b0316803b156103385761189193600080946040519687958694859363660e160760e01b855260048501611837565b6001600160a01b0391821681526020810192909252909116604082015260600190565b9190826101009103126103385781519160208101519160408201519160608101519160808201519160a08101519160e0611b9560c0840161144d565b92015190565b9190826040910312610338576020825192015190565b9081526001600160a01b03909116602082015260400190565b6040805163d07900bb60e01b815260048101869052909493610100939290916001600160a01b03909116908481602481855afa948515610b11579087939291600096611ca1575b5050611c349394958351809581948293630f50894160e21b845260048401611bb1565b03915afa93841561177c57600094611c74575b5050611c569161081a9161154d565b818111611c67576114fa9150611826565b5061020a6114fa91611461565b61081a929450611c56939181611c9592903d106103bd576103ac818361140b565b90509391819350611c47565b611c349596509081611cc792903d10611cd7575b611cbf818361140b565b810190611b59565b5050505050509050949338611c11565b503d611cb5565b6040805163a7e9445560e01b80825260009796929592946001600160a01b03808216959360209392918b918581600481868d5af1908115611e6857611d4783928c868f8b958294611e72575b50519586809581946323b872dd60e01b8352303360048501611634565b0393165af18015611e6857611e4b575b5089519384528484600481858c5af1938415611e41579282611d9a959287958c9594611e22575b508c5180978196829563095ea7b360e01b845260048401611656565b0393165af18015611e1857611dfa575b5050823b156102c5579186939184611ddc9798948751988995869485936319b6fb0160e01b855233906004860161195a565b03925af1918215611df05750506117715750565b51903d90823e3d90fd5b81611e1092903d106117ad5761179d818361140b565b503880611daa565b87513d8b823e3d90fd5b611e3a919450863d881161047c5761046d818361140b565b9238611d7e565b8a513d84823e3d90fd5b611e6190863d88116117ad5761179d818361140b565b5038611d57565b8b513d85823e3d90fd5b611e8a919450863d881161047c5761046d818361140b565b9238611d2a565b6040805163d07900bb60e01b8152600481018690529395949093610100936001600160a01b03938416939290918581602481885afa958615610b115791611efa9899918893600098611fd7575b50508251630f50894160e21b8152988992839260048401611bb1565b0381865afa9586156117b457600096611fae575b508451633eaf7a0360e21b81529116600482015290602090829060249082905afa92831561177c5750600092611f79575b50611a2b90611f4d936115df565b676765c793fa10079d601b1b810490611f658261156d565b10156114fa57600181018091116115c95790565b90916020823d8211611fa6575b81611f936020938361140b565b810103126102b957505190611a2b611f3f565b3d9150611f86565b602092919650611fcc602491873d89116103bd576103ac818361140b565b905096919250611f0e565b611fee929850803d10611cd757611cbf818361140b565b5050505050509050953880611ede565b9492959391909560018060a01b03918287169360409788519963434efcbd60e01b8b5260009a600498848a83015260209586836024818d5afa9283156122bc5790878f8f8e9998979695948e9296612275575b50516367aea31360e01b815298899182905afa968715612243578f8f8a928f929a61224f575b50516348c5be7f60e11b81529081018890529b8c9060249082905afa9a8b1561224357908f918e9493929c6121fe575b506120e995938c846120d161081a8f9c9b9996866120cc826120e09b6120d89a611671565b6114a0565b948a611982565b9084846118f6565b6105a38b61156d565b16908751636d24dd6d60e11b815281818061210787308c8401611940565b0381865afa9182156121f4578a926121c6575b505015612179575b501691823b15610625579184939186809461215497519788958694859363f0b522db60e01b855233913391860161195a565b03925af19081156102bc5750612168575050565b61217282916113e2565b6102b95750565b803b1561037e578780916024895180948193631b29a84160e31b83528888168b8401525af180156121bc5715612122576121b5909791976113e2565b9538612122565b87513d8a823e3d90fd5b90809250813d83116121ed575b6121dd818361140b565b810103126108aa5751388061211a565b503d6121d3565b89513d8c823e3d90fd5b89809b9c9d508193969550919398993d831161223c575b61221f818361140b565b810103126122385751999897969591928c92918a6120a7565b8e80fd5b503d612215565b8f8f51903d90823e3d90fd5b6024919a509161226c8a93853d871161047c5761046d818361140b565b9a915091612077565b949697989950505090925081813d83116122b5575b612294818361140b565b81010312610fd857918c91878b6122ae8e9998979661144d565b9438612051565b503d61228a565b8e8e51903d90823e3d90fd5b6040805163b77b80e360e01b81526001600160a01b03938416600480830182905260249692959094169160209182878981875afa9687156117b457600097612457575b50845190631e0b152760e21b82528682015282818981875afa9081156117b45760009161242a575b50916000925b87841061234f5750505050505050505060001990565b85516348c5be7f60e11b815287810182905282818b81895afa908115610b11579084916000916123fa575b50146123ee57855190634064a0cf60e11b82528782015285818a81885afa9081156117e1576000916123cf575b509260001981146123bb5760010192612339565b88601188634e487b7160e01b600052526000fd5b6123e69150863d88116103bd576103ac818361140b565b9050386123a7565b97505050505050505090565b91508382813d8311612423575b612411818361140b565b810103126102b957508390513861237a565b503d612407565b908382813d8311612450575b612440818361140b565b810103126102b957505138612333565b503d612436565b90968382813d831161247f575b61246e818361140b565b810103126102b9575051953861230b565b503d612464565b908261249591949394836122c8565b9260001984146125d657604080516367aea31360e01b815260209591939092916001600160a01b03918216908785600481855afa9485156117e1579088916000966125b7575b50602487518094819363434efcbd60e01b835260048301525afa9687156117b457600097612574575b505091612529959184938451809881958294630f50894160e21b845260048401611bb1565b0392165afa928315612569576000918294612545575b50509190565b61256093945080919250903d106103bd576103ac818361140b565b9190388061253f565b50513d6000823e3d90fd5b8181989293983d83116125b0575b61258c818361140b565b810103126102b957509161252995916125a5859461144d565b968193929450612504565b503d612582565b6125cf919650823d841161047c5761046d818361140b565b94386124db565b50509050600090600090565b6040516367aea31360e01b8152926001600160a01b039290916020856004818785165afa9485156118a2576000956126b8575b50612621918391612486565b90936040519263d07900bb60e01b8452600484015282602481610100968794165afa9182156118a257600093849361268c575b505081156126835761266992611a30916115df565b6000918181111561267e576114fa9250611af0565b505090565b50505050600090565b80919294506126a79350903d10611cd757611cbf818361140b565b505050949350505091903880612654565b83919550916126d76126219360203d811161047c5761046d818361140b565b95915091612615565b604080516367aea31360e01b8152602094909390926001600160a01b0392919086866004818785165afa9586156128b1576000966128f8575b50612725918591612486565b929094169181519363d07900bb60e01b85526004850152610100938481602481875afa80156128b1576000968792889789936128bc575b505061276c9291611a30916115df565b908082116127805750505050505050600090565b61278991611af0565b9481519263177e643360e11b84528184600481845afa9384156128b157600094612882575b50908060049284519384809263042a1eaf60e51b82525afa92831561177c5750600092612851575b50506127e191611af0565b6127ea8461156d565b811061283c5750612804906127fe8361156d565b90611af0565b90828101908181116115c95781106103385761281f9061156d565b8110612829575090565b676765c793fa10079d601b1b9004919050565b676765c793fa10079d601b1b90049392505050565b81819392933d831161287b575b612868818361140b565b810103126102b95750516127e1386127d6565b503d61285e565b90938282813d83116128aa575b612899818361140b565b810103126102b957505192816127ae565b503d61288f565b83513d6000823e3d90fd5b8091929950611a30985061276c94506128e19350903d10611cd757611cbf818361140b565b50505098929991939050989297929381925061275c565b859196509161291661272593893d8b1161047c5761046d818361140b565b9691509161271956fea2646970667358221220d8a5696ac03d30b274fac0bf395298ca1bea116a99a3d0ae0ec2b796cebea57b64736f6c63430008110033",
  "deployedBytecode": "0x60406080815260048036101561001457600080fd5b600091823560e01c806303f2cd05146112a75783816313cc55e414611087575080632581700814610d5b5780632af7ec8b14610d355780632dc469a314610b38578063434fa72214610b1c5780636093c97514610a4c5780637a2a103114610a305780637a4d9a47146109565780637f5b1a1b1461090f578381638f86e01514610763578163b02f9e3d146104b857508063bb44afd3146104915763f7f898b0146100be57600080fd5b3461048d57606036600319011261048d576100d761131c565b906100e0611348565b81516367aea31360e01b81529093604435926001600160a01b03858116939092602092899190848483818a5afa938415610483578394610454575b50805163434efcbd60e01b81528281018990529480866024818b5afa95861561044a57849661040f575b5081516348c5be7f60e11b81528381018a90529681886024818c5afa9788156104055785986103ce575b508251630f50894160e21b81529886821692909190848b806101948c8e8b8401611bb1565b0381875afa9a8b156103c457879b610393575b50845163040b0d8960e51b81528681018d9052918183602481875afa92831561038957889361034e575b50821630149182156102c9575b50501590506102185750505050918161021597610204838361020a9661020f9998611e91565b92611cde565b611826565b916118ae565b80f35b9496929990975061020a919850610235868861023e963090611e91565b90309087611cde565b94813b156102c55784516399bec31560e01b81529081019283526001600160a01b039093166020830152306040830181905260608301526000608083015260a08201949094529092849184919082908490829060c00103925af19081156102bc57506102a957505080f35b6102b2906113e2565b6102b95780f35b80fd5b513d84823e3d90fd5b8680fd5b6102ed925081938d87518095819482936302d75da360e51b845230918d8501611b36565b03915afa91821561034457869261030c575b50506001148038806101de565b8196508092503d831161033d575b610324818361140b565b810103126103385760018c945190386102ff565b600080fd5b503d61031a565b84513d88823e3d90fd5b9092508181813d8311610382575b610366818361140b565b8101031261037e576103779061144d565b91386101d1565b8780fd5b503d61035c565b86513d8a823e3d90fd5b6103b4919b50853d87116103bd575b6103ac818361140b565b810190611b9b565b905099386101a7565b503d6103a2565b85513d89823e3d90fd5b82809299508196503d83116103fe575b6103e8818361140b565b81010312610338579251958b939061019461016f565b503d6103de565b83513d87823e3d90fd5b9080965081813d8311610443575b610427818361140b565b8101031261043f576104389061144d565b9438610145565b8380fd5b503d61041d565b82513d86823e3d90fd5b610475919450853d871161047c575b61046d818361140b565b81019061142e565b923861011b565b503d610463565b81513d85823e3d90fd5b8280fd5b8382346104b4576020906104ad6104a7366113ad565b916125e2565b9051908152f35b5080fd5b8084843461075f5760a036600319011261075f576104d461131c565b916104dd611348565b6104e5611332565b835163434efcbd60e01b81526064358482018190526001600160a01b0387811697608435959194936020939284826024818e5afa918215610755579089949392918d92610718575b508a516367aea31360e01b81529486908690818f5afa9485156106ef578d956106f9575b50858b51809d6348c5be7f60e11b8252868d830152815a91602492fa9b8c156106ef578d9c6106b1575b509161059a6105938a8e8897956105ab978d9a611982565b83836118ae565b6105a38961156d565b913091611afd565b16908651636d24dd6d60e11b81528181806105c987308c8401611940565b0381865afa9182156106a7578a92610676575b505015610629575b5016803b15610625576106129486809486519788958694859363f0b522db60e01b855233913391860161195a565b03925af19081156102bc57506102a95750f35b8580fd5b803b1561037e578780916024885180948193631b29a84160e31b83528888168b8401525af1801561038957908891610662575b506105e4565b61066b906113e2565b6102c557868961065c565b819a508092503d83116106a0575b61068e818361140b565b81010312610338578897518a806105dc565b503d610684565b88513d8c823e3d90fd5b929c509a5092918482813d81116106e8575b6106cd818361140b565b81010312610338578c9b87948993519c91935091939461057b565b503d6106c3565b8b513d8f823e3d90fd5b610711919550863d881161047c5761046d818361140b565b938e610551565b945090508484813d811161074e575b610731818361140b565b8101031261074a57610743899461144d565b908e61052d565b8b80fd5b503d610727565b8a513d8e823e3d90fd5b5050fd5b8084843461075f5761077436611374565b92909194610783843088611671565b84516367aea31360e01b81526020966001600160a01b039384169591888185818a5afa9081156106a7579085918b916108f2575b5016958751956348c5be7f60e11b875280858801528987602481855afa9687156108e8578b976108b5575b50899060248a518094819363434efcbd60e01b8352898301525afa9889156106a7578a99610870575b505061081f9161081a916114a0565b611461565b91843b1561037e57879460c49386928851998a9788966399bec31560e01b885287015216602485015230604485015230606485015260848401528160a48401525af19081156102bc57506102a95750f35b9080929950813d83116108ae575b610888818361140b565b810103126108aa5761081f916108a061081a9261144d565b989181935061080b565b8880fd5b503d61087e565b9a509550888a813d81116108e1575b6108ce818361140b565b8101031261033857888b9a5196906107e2565b503d6108c4565b89513d8d823e3d90fd5b61090991508a3d8c1161047c5761046d818361140b565b8c6107b7565b83346102b95760e03660031901126102b95761021561092c61131c565b610934611348565b61093c611332565b9161094561135e565b60c4359360a4359360843593611ffe565b508290346104b45760e03660031901126104b45761097261131c565b9261097b611348565b90610984611332565b6109af602061099161135e565b938651809381926339855fd160e11b83523090608435908401611bb1565b0381896001600160a01b038c165af1958615610a2557956109e9575b5094846109e3939260209760c4359460a43594611ffe565b51908152f35b92919450946020833d8211610a1d575b81610a066020938361140b565b8101031261033857915191949193909160206109cb565b3d91506109f9565b8551903d90823e3d90fd5b8382346104b4576020906104ad610a46366113ad565b916122c8565b508290346104b457610a5d36611374565b93929591610a6b85826114a0565b96610a7861020a89611461565b6001600160a01b03939082851690813b1561033857600091606483928a5194859384926318f0203f60e31b8452888d85015260248401528160448401525af18015610b115791610ad393918a9b93610b02575b503091611858565b1692833b15610afe5761061293859283855180978195829463ef693bed60e01b845233908401611656565b8480fd5b610b0b906113e2565b8b610acb565b87513d6000823e3d90fd5b8382346104b4576020906104ad610b32366113ad565b916126e0565b50903461048d5760a036600319011261048d5782610b5461131c565b610b5c611348565b93610b65611332565b81516367aea31360e01b815295608435936001600160a01b0392838216916064356020808c8c81885afa9485156106a7578b9c8b9c999a9b96610d16575b50895163434efcbd60e01b81529c8d01839052818d602481845afa9c8d15610755578c9d610cdf575b50818360248b8d5194859384926348c5be7f60e11b84528301525afa918215610755578c92610cae575b50508851630f50894160e21b81529b898d80610c1584868e8401611bb1565b03818b8a165afa948515610755578c9d8b610ad3999a9b9c9d9e97610c7b575b5050610204838380610c499798999a611e91565b610c74610c568a876114a0565b93610c6c610c6661020a87611461565b91611826565b9083856118f6565b3091611858565b610c49959697508380610c9f61020494848995903d106103bd576103ac818361140b565b9050999897505050508c610c35565b819c508092503d8311610cd8575b610cc6818361140b565b81010312610338578b99513880610bf6565b503d610cbc565b909c508181813d8311610d0f575b610cf7818361140b565b8101031261074a57610d089061144d565b9b38610bcc565b503d610ced565b610d2e919650823d841161047c5761046d818361140b565b9438610ba3565b5082346102b95750610d4f610d49366113ad565b91612486565b82519182526020820152f35b503461048d57608036600319011261048d57610d7561131c565b90610d7e611348565b81516367aea31360e01b815293604435926001600160a01b038581169392602090606435828a83818a5afa998a1561107d578b9a61105e575b50845163434efcbd60e01b81528281018990529583876024818b5afa968715611054578c9761101d575b5085516348c5be7f60e11b81528381018a9052978489602481845afa988915610f9f578d99610fee575b508c875163040b0d8960e51b81528b868201528681602481865afa918215610fe357908792610fa9575b503088821614928315610f31575b505050600014610ed75783929187610e5b928a611cde565b6024855180958193633eaf7a0360e21b8352818a16908301528c165afa928315610ece57508892610e98575b50509061020f929161021596611bca565b908094939250813d8311610ec7575b610eb1818361140b565b810103126103385791519091908561020f610e87565b503d610ea7565b513d8a823e3d90fd5b909a999497508a919850610ef19250959495309086611cde565b811690676765c793fa10079d601b1b9788810298818a041490151715610f1e578284889961023e93611bca565b634e487b7160e01b875260118652602487fd5b610f5393508c8a518095819482936302d75da360e51b845230918c8501611b36565b03915afa8015610f9f578d90610f71575b6001915014843880610e43565b508481813d8311610f98575b610f87818361140b565b810103126103385760019051610f64565b503d610f7d565b87513d8f823e3d90fd5b82819392503d8311610fdc575b610fc0818361140b565b81010312610fd857610fd2869161144d565b38610e35565b8d80fd5b503d610fb6565b8951903d90823e3d90fd5b9098508481813d8311611016575b611006818361140b565b8101031261033857519738610e0b565b503d610ffc565b9096508381813d831161104d575b611035818361140b565b8101031261074a576110469061144d565b9538610de1565b503d61102b565b86513d8e823e3d90fd5b611076919a50833d851161047c5761046d818361140b565b9838610db7565b85513d8d823e3d90fd5b8084843461075f5760c036600319011261075f576110a361131c565b916110ac611348565b6110b4611332565b835163434efcbd60e01b8152606435848201819052608435966001600160a01b0394939092858416916020908183602481875afa928315610755578c93611270575b5089516348c5be7f60e11b8152898101869052938285602481845afa9485156106ef578d95611230575b5090828a9796959493928c51988980926367aea31360e01b82525afa9687156106ef57908b949392918e9861120d575b50611160908360a4359186611cde565b61116a8c896114a0565b9689828c602461117c61020a8d611461565b985180948193633eaf7a0360e21b8352818a169083015286165afa928315611201578f936111bd575b505092610ad39796959492610c6c92610c7495611bca565b8092959f508193509897969593983d83116111fa575b6111dd818361140b565b8101031261033857518d9c95969495939491939282610c746111a5565b503d6111d3565b8f8e51903d90823e3d90fd5b61116091985061122990833d851161047c5761046d818361140b565b9790611150565b8380939e5081989796509194933d8311611269575b61124f818361140b565b810103126103385794518c9b949593949093919282611120565b503d611245565b9092508181813d83116112a0575b611288818361140b565b8101031261074a576112999061144d565b918d6110f6565b503d61127e565b503461048d57826112cf6112ba36611374565b9391926112c785856114a0565b913091611858565b6001600160a01b0316803b1561048d576112ff9483855180978195829463ef693bed60e01b845233908401611656565b03925af19081156102bc5750611313575080f35b610215906113e2565b600435906001600160a01b038216820361033857565b604435906001600160a01b038216820361033857565b602435906001600160a01b038216820361033857565b606435906001600160a01b038216820361033857565b6080906003190112610338576001600160a01b039060043582811681036103385791602435908116810361033857906044359060643590565b6060906003190112610338576001600160a01b0390600435828116810361033857916024359081168103610338579060443590565b6001600160401b0381116113f557604052565b634e487b7160e01b600052604160045260246000fd5b601f909101601f19168101906001600160401b038211908210176113f557604052565b9081602091031261033857516001600160a01b03811681036103385790565b51906001600160a01b038216820361033857565b906000821261146c57565b60405162461bcd60e51b815260206004820152600c60248201526b696e742d6f766572666c6f7760a01b6044820152606490fd5b60405163313ce56760e01b815260009392916020908290600490829088906001600160a01b03165af1908115611542578491611511575b50601203601281116114fd57604d81116114fd576114fa929350600a0a906115df565b90565b634e487b7160e01b84526011600452602484fd5b90506020813d821161153a575b8161152b6020938361140b565b8101031261043f5751386114d7565b3d915061151e565b6040513d86823e3d90fd5b8115611557570490565b634e487b7160e01b600052601260045260246000fd5b676765c793fa10079d601b1b8082029291908115828504821417156115c95783040361159557565b60405162461bcd60e51b815260206004820152600c60248201526b6d756c2d6f766572666c6f7760a01b6044820152606490fd5b634e487b7160e01b600052601160045260246000fd5b6000929180159182156115f6575b50501561159557565b808202945091508115828504821417156115c957611614908461154d565b1438806115ed565b90816020910312610338575180151581036103385790565b6001600160a01b03918216815291166020820152604081019190915260600190565b6001600160a01b039091168152602081019190915260400190565b6040805163d8dfeb4560e01b8082526001600160a01b039384169592949360209283816004818b5afa908115610b1157600091611809575b5083875180926323b872dd60e01b825281600086826116cd8c303360048501611634565b0393165af18015610b11576117ec575b50855191825282826004818a5afa9182156117e1576117229288859387936000936117bf575b506000908a5180978196829563095ea7b360e01b845260048401611656565b0393165af180156117b457611786575b5050833b156103385761175e93600092838551809781958294633b4da69f60e01b845260048401611656565b03925af190811561177c57506117715750565b61177a906113e2565b565b513d6000823e3d90fd5b816117a592903d106117ad575b61179d818361140b565b81019061161c565b503880611732565b503d611793565b85513d6000823e3d90fd5b60009193506117da90863d881161047c5761046d818361140b565b9290611703565b86513d6000823e3d90fd5b61180290843d86116117ad5761179d818361140b565b50386116dd565b6118209150843d861161047c5761046d818361140b565b386116a9565b600160ff1b81146115c95760000390565b9081526001600160a01b039091166020820152604081019190915260600190565b919290916001600160a01b0316803b156103385761189193600080946040519687958694859363438ac0d160e11b855260048501611837565b03925af180156118a2576117715750565b6040513d6000823e3d90fd5b6001600160a01b031691823b156103385760646000928360405195869485936318f0203f60e31b8552600485015282602485015260448401525af180156118a2576117715750565b9091906001600160a01b0316803b15610338576000928360649260405196879586946318f0203f60e31b86526004860152602485015260448401525af180156118a2576117715750565b6001600160a01b0391821681529116602082015260400190565b9081526001600160a01b03918216602082015291166040820152606081019190915260800190565b94939091600095600093604051956336286ddd60e11b8752600487015260209283876024818960018060a01b038097165af1968715611ae5578697611ab5575b50604051633eaf7a0360e21b8152908216600482015291839183916024918391165afa918215611542578492611a87575b50506119fe8261156d565b8110611a0b575b50505050565b83949550611a3561081a839495611a30611a3c94611a2b611a429761156d565b611af0565b61154d565b94856115df565b9161156d565b1115611a8157600182019181600184129112908015821691151617611a6d57505b9038808080611a05565b634e487b7160e01b81526011600452602490fd5b50611a63565b90809250813d8311611aae575b611a9e818361140b565b8101031261048d575138806119f3565b503d611a94565b9096508381813d8311611ade575b611acd818361140b565b8101031261062557519560246119c2565b503d611ac3565b6040513d88823e3d90fd5b9081039081116115c95790565b919290916001600160a01b0316803b156103385761189193600080946040519687958694859363660e160760e01b855260048501611837565b6001600160a01b0391821681526020810192909252909116604082015260600190565b9190826101009103126103385781519160208101519160408201519160608101519160808201519160a08101519160e0611b9560c0840161144d565b92015190565b9190826040910312610338576020825192015190565b9081526001600160a01b03909116602082015260400190565b6040805163d07900bb60e01b815260048101869052909493610100939290916001600160a01b03909116908481602481855afa948515610b11579087939291600096611ca1575b5050611c349394958351809581948293630f50894160e21b845260048401611bb1565b03915afa93841561177c57600094611c74575b5050611c569161081a9161154d565b818111611c67576114fa9150611826565b5061020a6114fa91611461565b61081a929450611c56939181611c9592903d106103bd576103ac818361140b565b90509391819350611c47565b611c349596509081611cc792903d10611cd7575b611cbf818361140b565b810190611b59565b5050505050509050949338611c11565b503d611cb5565b6040805163a7e9445560e01b80825260009796929592946001600160a01b03808216959360209392918b918581600481868d5af1908115611e6857611d4783928c868f8b958294611e72575b50519586809581946323b872dd60e01b8352303360048501611634565b0393165af18015611e6857611e4b575b5089519384528484600481858c5af1938415611e41579282611d9a959287958c9594611e22575b508c5180978196829563095ea7b360e01b845260048401611656565b0393165af18015611e1857611dfa575b5050823b156102c5579186939184611ddc9798948751988995869485936319b6fb0160e01b855233906004860161195a565b03925af1918215611df05750506117715750565b51903d90823e3d90fd5b81611e1092903d106117ad5761179d818361140b565b503880611daa565b87513d8b823e3d90fd5b611e3a919450863d881161047c5761046d818361140b565b9238611d7e565b8a513d84823e3d90fd5b611e6190863d88116117ad5761179d818361140b565b5038611d57565b8b513d85823e3d90fd5b611e8a919450863d881161047c5761046d818361140b565b9238611d2a565b6040805163d07900bb60e01b8152600481018690529395949093610100936001600160a01b03938416939290918581602481885afa958615610b115791611efa9899918893600098611fd7575b50508251630f50894160e21b8152988992839260048401611bb1565b0381865afa9586156117b457600096611fae575b508451633eaf7a0360e21b81529116600482015290602090829060249082905afa92831561177c5750600092611f79575b50611a2b90611f4d936115df565b676765c793fa10079d601b1b810490611f658261156d565b10156114fa57600181018091116115c95790565b90916020823d8211611fa6575b81611f936020938361140b565b810103126102b957505190611a2b611f3f565b3d9150611f86565b602092919650611fcc602491873d89116103bd576103ac818361140b565b905096919250611f0e565b611fee929850803d10611cd757611cbf818361140b565b5050505050509050953880611ede565b9492959391909560018060a01b03918287169360409788519963434efcbd60e01b8b5260009a600498848a83015260209586836024818d5afa9283156122bc5790878f8f8e9998979695948e9296612275575b50516367aea31360e01b815298899182905afa968715612243578f8f8a928f929a61224f575b50516348c5be7f60e11b81529081018890529b8c9060249082905afa9a8b1561224357908f918e9493929c6121fe575b506120e995938c846120d161081a8f9c9b9996866120cc826120e09b6120d89a611671565b6114a0565b948a611982565b9084846118f6565b6105a38b61156d565b16908751636d24dd6d60e11b815281818061210787308c8401611940565b0381865afa9182156121f4578a926121c6575b505015612179575b501691823b15610625579184939186809461215497519788958694859363f0b522db60e01b855233913391860161195a565b03925af19081156102bc5750612168575050565b61217282916113e2565b6102b95750565b803b1561037e578780916024895180948193631b29a84160e31b83528888168b8401525af180156121bc5715612122576121b5909791976113e2565b9538612122565b87513d8a823e3d90fd5b90809250813d83116121ed575b6121dd818361140b565b810103126108aa5751388061211a565b503d6121d3565b89513d8c823e3d90fd5b89809b9c9d508193969550919398993d831161223c575b61221f818361140b565b810103126122385751999897969591928c92918a6120a7565b8e80fd5b503d612215565b8f8f51903d90823e3d90fd5b6024919a509161226c8a93853d871161047c5761046d818361140b565b9a915091612077565b949697989950505090925081813d83116122b5575b612294818361140b565b81010312610fd857918c91878b6122ae8e9998979661144d565b9438612051565b503d61228a565b8e8e51903d90823e3d90fd5b6040805163b77b80e360e01b81526001600160a01b03938416600480830182905260249692959094169160209182878981875afa9687156117b457600097612457575b50845190631e0b152760e21b82528682015282818981875afa9081156117b45760009161242a575b50916000925b87841061234f5750505050505050505060001990565b85516348c5be7f60e11b815287810182905282818b81895afa908115610b11579084916000916123fa575b50146123ee57855190634064a0cf60e11b82528782015285818a81885afa9081156117e1576000916123cf575b509260001981146123bb5760010192612339565b88601188634e487b7160e01b600052526000fd5b6123e69150863d88116103bd576103ac818361140b565b9050386123a7565b97505050505050505090565b91508382813d8311612423575b612411818361140b565b810103126102b957508390513861237a565b503d612407565b908382813d8311612450575b612440818361140b565b810103126102b957505138612333565b503d612436565b90968382813d831161247f575b61246e818361140b565b810103126102b9575051953861230b565b503d612464565b908261249591949394836122c8565b9260001984146125d657604080516367aea31360e01b815260209591939092916001600160a01b03918216908785600481855afa9485156117e1579088916000966125b7575b50602487518094819363434efcbd60e01b835260048301525afa9687156117b457600097612574575b505091612529959184938451809881958294630f50894160e21b845260048401611bb1565b0392165afa928315612569576000918294612545575b50509190565b61256093945080919250903d106103bd576103ac818361140b565b9190388061253f565b50513d6000823e3d90fd5b8181989293983d83116125b0575b61258c818361140b565b810103126102b957509161252995916125a5859461144d565b968193929450612504565b503d612582565b6125cf919650823d841161047c5761046d818361140b565b94386124db565b50509050600090600090565b6040516367aea31360e01b8152926001600160a01b039290916020856004818785165afa9485156118a2576000956126b8575b50612621918391612486565b90936040519263d07900bb60e01b8452600484015282602481610100968794165afa9182156118a257600093849361268c575b505081156126835761266992611a30916115df565b6000918181111561267e576114fa9250611af0565b505090565b50505050600090565b80919294506126a79350903d10611cd757611cbf818361140b565b505050949350505091903880612654565b83919550916126d76126219360203d811161047c5761046d818361140b565b95915091612615565b604080516367aea31360e01b8152602094909390926001600160a01b0392919086866004818785165afa9586156128b1576000966128f8575b50612725918591612486565b929094169181519363d07900bb60e01b85526004850152610100938481602481875afa80156128b1576000968792889789936128bc575b505061276c9291611a30916115df565b908082116127805750505050505050600090565b61278991611af0565b9481519263177e643360e11b84528184600481845afa9384156128b157600094612882575b50908060049284519384809263042a1eaf60e51b82525afa92831561177c5750600092612851575b50506127e191611af0565b6127ea8461156d565b811061283c5750612804906127fe8361156d565b90611af0565b90828101908181116115c95781106103385761281f9061156d565b8110612829575090565b676765c793fa10079d601b1b9004919050565b676765c793fa10079d601b1b90049392505050565b81819392933d831161287b575b612868818361140b565b810103126102b95750516127e1386127d6565b503d61285e565b90938282813d83116128aa575b612899818361140b565b810103126102b957505192816127ae565b503d61288f565b83513d6000823e3d90fd5b8091929950611a30985061276c94506128e19350903d10611cd757611cbf818361140b565b50505098929991939050989297929381925061275c565b859196509161291661272593893d8b1161047c5761046d818361140b565b9691509161271956fea2646970667358221220d8a5696ac03d30b274fac0bf395298ca1bea116a99a3d0ae0ec2b796cebea57b64736f6c63430008110033",
  "devdoc": {
    "kind": "dev",
    "methods": {},
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {
      "exitTokenCollateral(address,address,uint256,uint256)": {
        "notice": "function exitETH(address manager, address ethJoin, uint cdp, uint wad) public { // Moves the amount from the CDP urn to proxy's address flux(manager, cdp, address(this), wad); // Exits WETH amount to proxy address as a token GemJoinLike(ethJoin).exit(address(this), wad); // Converts WETH to ETH GemJoinLike(ethJoin).gem().withdraw(wad); // Sends ETH back to the user's wallet msg.sender.transfer(wad); }*"
      },
      "freeTokenCollateral(address,address,uint256,uint256)": {
        "notice": "Don't see any additional security because attacker could potentially call safeLockGem with the correct owner address (just get IDssCdpManager(manager).owns(cdp)) and bypass the intended security check function safeLockTokenCollateral(address manager,address collateralJoin,uint cdp,uint amt,address owner) public { require(IDssCdpManager(manager).owns(cdp) == owner, \"bad-owner\"); lockTokenCollateral(manager, collateralJoin, cdp, amt); } function freeETH(address manager, address ethJoin, uint cdp, uint wad) public { // Unlocks WETH amount from the CDP frob(manager, cdp, -toInt(wad), 0); // Moves the amount from the CDP urn to proxy's address flux(manager, cdp, address(this), wad); // Exits WETH amount to proxy address as a token GemJoinLike(ethJoin).exit(address(this), wad); // Converts WETH to ETH GemJoinLike(ethJoin).gem().withdraw(wad); // Sends ETH back to the user's wallet msg.sender.transfer(wad); }*"
      },
      "lockTokenCollateral(address,address,uint256,uint256)": {
        "notice": "// We don't have GNT and don't need ETH as collateral, so we commented this functions function makeGemBag(address gemJoin) public returns (address bag) { bag = GNTJoinLike(gemJoin).make(address(this)); } function lockETH(address manager, address ethJoin, uint cdp) public payable { // Receives ETH amount, converts it to WETH and joins it into the vat ethJoin_join(ethJoin, address(this)); // Locks WETH amount into the CDP IDssCdpManager(manager).safeEngine().modifySAFECollateralization( IDssCdpManager(manager).collateralTypes(cdp), IDssCdpManager(manager).safes(cdp), address(this), address(this), toInt(msg.value), 0 ); } function safeLockETH(address manager, address ethJoin, uint cdp, address owner) public payable { require(IDssCdpManager(manager).owns(cdp) == owner, \"bad-owner\"); lockETH(manager, ethJoin, cdp); }*"
      },
      "lockTokenCollateralAndGenerateDebt(address,address,address,address,uint256,uint256,uint256)": {
        "notice": "Same as in safeLockTokenCollateral function safeRepayAllDebt(address manager, address daiJoin, uint cdp, address owner) public { require(IDssCdpManager(manager).owns(cdp) == owner, \"bad-owner\"); repayAllDebt(manager, daiJoin, cdp); } function lockETHAndDraw( address manager, address jug, address ethJoin, address daiJoin, uint cdp, uint wadD ) public payable { address urn = ManagerLike(manager).urns(cdp); address vat = ManagerLike(manager).vat(); bytes32 ilk = ManagerLike(manager).ilks(cdp); // Receives ETH amount, converts it to WETH and joins it into the vat ethJoin_join(ethJoin, urn); // Locks WETH amount into the CDP and generates debt frob(manager, cdp, toInt(msg.value), _getDrawDart(vat, jug, urn, ilk, wadD)); // Moves the DAI amount (balance in the vat in rad) to proxy's address move(manager, cdp, address(this), toRad(wadD)); // Allows adapter to access to proxy's DAI balance in the vat if (VatLike(vat).can(address(this), address(daiJoin)) == 0) { VatLike(vat).hope(daiJoin); } // Exits DAI to the user's wallet as a token DaiJoinLike(daiJoin).exit(msg.sender, wadD); } function openLockETHAndDraw( address manager, address jug, address ethJoin, address daiJoin, bytes32 ilk, uint wadD ) public payable returns (uint cdp) { cdp = open(manager, ilk, address(this)); lockETHAndDraw(manager, jug, ethJoin, daiJoin, cdp, wadD); }*"
      },
      "repayAllDebt(address,address,uint256)": {
        "notice": "Same as in safeLockTokenCollateral function safeRepayDebt(address manager, address daiJoin, uint cdp, uint wad, address owner) public { require(IDssCdpManager(manager).owns(cdp) == owner, \"bad-owner\"); repayDebt(manager, daiJoin, cdp, wad); }*"
      },
      "repayDebtAndFreeTokenCollateral(address,address,address,uint256,uint256,uint256)": {
        "notice": "We don't use GNT and ETH function openLockGNTAndDraw( address manager,naddress jug, address gntJoin, address daiJoin, bytes32 ilk, uint wadC, uint wadD ) public returns (address bag, uint cdp) { // Creates bag (if doesn't exist) to hold GNT bag = GNTJoinLike(gntJoin).bags(address(this)); if (bag == address(0)) { bag = makeGemBag(gntJoin); } // Transfer funds to the funds which previously were sent to the proxy GemLike(GemJoinLike(gntJoin).gem()).transfer(bag, wadC); cdp = openLockGemAndDraw(manager, jug, gntJoin, daiJoin, ilk, wadC, wadD, false); } function wipeAndFreeETH(address manager, address ethJoin, address daiJoin, uint cdp, uint wadC, uint wadD) public { address urn = ManagerLike(manager).urns(cdp); // Joins DAI amount into the vat daiJoin_join(daiJoin, urn, wadD); // Paybacks debt to the CDP and unlocks WETH amount from it frob( manager, cdp, -toInt(wadC), _getWipeDart(ManagerLike(manager).vat(), VatLike(ManagerLike(manager).vat()).dai(urn), urn, ManagerLike(manager).ilks(cdp)) ); // Moves the amount from the CDP urn to proxy's address flux(manager, cdp, address(this), wadC); // Exits WETH amount to proxy address as a token GemJoinLike(ethJoin).exit(address(this), wadC); // Converts WETH to ETH GemJoinLike(ethJoin).gem().withdraw(wadC); // Sends ETH back to the user's wallet msg.sender.transfer(wadC); } function wipeAllAndFreeETH(address manager, address ethJoin, address daiJoin, uint cdp, uint wadC) public { address vat = ManagerLike(manager).vat(); address urn = ManagerLike(manager).urns(cdp); bytes32 ilk = ManagerLike(manager).ilks(cdp); (, uint art) = VatLike(vat).urns(ilk, urn); // Joins DAI amount into the vat daiJoin_join(daiJoin, urn, _getWipeAllWad(vat, urn, urn, ilk)); // Paybacks debt to the CDP and unlocks WETH amount from it frob( manager, cdp, -toInt(wadC), -int(art) ); // Moves the amount from the CDP urn to proxy's address flux(manager, cdp, address(this), wadC); // Exits WETH amount to proxy address as a token GemJoinLike(ethJoin).exit(address(this), wadC); // Converts WETH to ETH GemJoinLike(ethJoin).gem().withdraw(wadC); // Sends ETH back to the user's wallet msg.sender.transfer(wadC); }*"
      }
    },
    "version": 1
  },
  "storageLayout": {
    "storage": [],
    "types": null
  }
}